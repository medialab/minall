
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tables/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>enrichment - Minall Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#enrichment-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Minall Documentation" class="md-header__button md-logo" aria-label="Minall Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Minall Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              enrichment
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Minall Documentation" class="md-nav__button md-logo" aria-label="Minall Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Minall Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To Guides
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3h6v4H3V3m12 7h6v4h-6v-4m0 7h6v4h-6v-4m-2-4H7v5h6v2H5V9h2v2h6v2Z"/></svg>
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8l-6-6m4 18H6V4h7v5h5v11m-8.46-4.35 2.09 2.09L10.35 19 7 15.65l3.35-3.35 1.28 1.26-2.09 2.09m7.46 0L13.65 19l-1.27-1.26 2.09-2.09-2.09-2.09 1.27-1.26L17 15.65Z"/></svg>
  
  <span class="md-ellipsis">
    main
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"/></svg>
  
  <span class="md-ellipsis">
    cli
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"/></svg>
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tables/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"/></svg>
  
  <span class="md-ellipsis">
    tables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"/></svg>
  
  <span class="md-ellipsis">
    enrichment
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"/></svg>
  
  <span class="md-ellipsis">
    enrichment
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      enrichment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="enrichment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      Enrichment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enrichment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.buzzsumo" class="md-nav__link">
    <span class="md-ellipsis">
      buzzsumo()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.facebook" class="md-nav__link">
    <span class="md-ellipsis">
      facebook()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.other_social_media" class="md-nav__link">
    <span class="md-ellipsis">
      other_social_media()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks" class="md-nav__link">
    <span class="md-ellipsis">
      FilteredLinks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilteredLinks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.facebook" class="md-nav__link">
    <span class="md-ellipsis">
      facebook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.other_social" class="md-nav__link">
    <span class="md-ellipsis">
      other_social
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.to_scrape" class="md-nav__link">
    <span class="md-ellipsis">
      to_scrape
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.apply_domain" class="md-nav__link">
    <span class="md-ellipsis">
      apply_domain()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.get_domain" class="md-nav__link">
    <span class="md-ellipsis">
      get_domain()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo" class="md-nav__link">
    <span class="md-ellipsis">
      buzzsumo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="buzzsumo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedBuzzsumoResult
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedBuzzsumoResult">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.parse_buzzsumo_type" class="md-nav__link">
    <span class="md-ellipsis">
      parse_buzzsumo_type()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient" class="md-nav__link">
    <span class="md-ellipsis">
      BuzzsumoClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BuzzsumoClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.get_data.get_buzzsumo_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_buzzsumo_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext" class="md-nav__link">
    <span class="md-ellipsis">
      GeneratorContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GeneratorContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext" class="md-nav__link">
    <span class="md-ellipsis">
      WriterContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WriterContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="twitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.NormalizedSharedLink" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedSharedLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.NormalizedTweet" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedTweet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.parse_shared_content" class="md-nav__link">
    <span class="md-ellipsis">
      parse_shared_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper" class="md-nav__link">
    <span class="md-ellipsis">
      TweetScraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TweetScraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data.batched" class="md-nav__link">
    <span class="md-ellipsis">
      batched()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data.get_twitter_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_twitter_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle" class="md-nav__link">
    <span class="md-ellipsis">
      crowdtangle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="crowdtangle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedFacebookPost
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedFacebookPost">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedSharedContent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedSharedContent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.parse_media_type" class="md-nav__link">
    <span class="md-ellipsis">
      parse_media_type()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.parse_facebook_post" class="md-nav__link">
    <span class="md-ellipsis">
      parse_facebook_post()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.parse_shared_content" class="md-nav__link">
    <span class="md-ellipsis">
      parse_shared_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient" class="md-nav__link">
    <span class="md-ellipsis">
      CTClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CTClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.adhoc_post_id_parser" class="md-nav__link">
    <span class="md-ellipsis">
      adhoc_post_id_parser()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.parse_rate_limit" class="md-nav__link">
    <span class="md-ellipsis">
      parse_rate_limit()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data.get_facebook_post_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_facebook_post_data()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data.yield_facebook_data" class="md-nav__link">
    <span class="md-ellipsis">
      yield_facebook_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager" class="md-nav__link">
    <span class="md-ellipsis">
      ContextManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContextManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube
    </span>
  </a>
  
    <nav class="md-nav" aria-label="youtube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedYouTubeChannel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedYouTubeChannel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedYouTubeVideo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedYouTubeVideo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.ParsedLink" class="md-nav__link">
    <span class="md-ellipsis">
      ParsedLink
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParsedLink">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.ParsedLink.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.normalize" class="md-nav__link">
    <span class="md-ellipsis">
      normalize()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.get_data.get_youtube_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_youtube_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context" class="md-nav__link">
    <span class="md-ellipsis">
      context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar" class="md-nav__link">
    <span class="md-ellipsis">
      ProgressBar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ProgressBar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer" class="md-nav__link">
    <span class="md-ellipsis">
      Writer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media" class="md-nav__link">
    <span class="md-ellipsis">
      other_social_media
    </span>
  </a>
  
    <nav class="md-nav" aria-label="other_social_media">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="add_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media.add_data.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.article_text" class="md-nav__link">
    <span class="md-ellipsis">
      article_text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="article_text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.normalizer.NormalizedScrapedWebPage" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedScrapedWebPage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper" class="md-nav__link">
    <span class="md-ellipsis">
      Scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.good_response" class="md-nav__link">
    <span class="md-ellipsis">
      good_response()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.get_data.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager" class="md-nav__link">
    <span class="md-ellipsis">
      ContextManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContextManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      enrichment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="enrichment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment" class="md-nav__link">
    <span class="md-ellipsis">
      Enrichment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enrichment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.buzzsumo" class="md-nav__link">
    <span class="md-ellipsis">
      buzzsumo()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.facebook" class="md-nav__link">
    <span class="md-ellipsis">
      facebook()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.other_social_media" class="md-nav__link">
    <span class="md-ellipsis">
      other_social_media()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.enrichment.Enrichment.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks" class="md-nav__link">
    <span class="md-ellipsis">
      FilteredLinks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilteredLinks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.facebook" class="md-nav__link">
    <span class="md-ellipsis">
      facebook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.other_social" class="md-nav__link">
    <span class="md-ellipsis">
      other_social
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.to_scrape" class="md-nav__link">
    <span class="md-ellipsis">
      to_scrape
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.FilteredLinks.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.apply_domain" class="md-nav__link">
    <span class="md-ellipsis">
      apply_domain()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.utils.get_domain" class="md-nav__link">
    <span class="md-ellipsis">
      get_domain()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo" class="md-nav__link">
    <span class="md-ellipsis">
      buzzsumo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="buzzsumo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedBuzzsumoResult
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedBuzzsumoResult">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.parse_buzzsumo_type" class="md-nav__link">
    <span class="md-ellipsis">
      parse_buzzsumo_type()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient" class="md-nav__link">
    <span class="md-ellipsis">
      BuzzsumoClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BuzzsumoClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.client.BuzzsumoClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.get_data.get_buzzsumo_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_buzzsumo_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext" class="md-nav__link">
    <span class="md-ellipsis">
      GeneratorContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GeneratorContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.GeneratorContext.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext" class="md-nav__link">
    <span class="md-ellipsis">
      WriterContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WriterContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.buzzsumo.contexts.WriterContext.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.twitter" class="md-nav__link">
    <span class="md-ellipsis">
      twitter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="twitter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.NormalizedSharedLink" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedSharedLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.NormalizedTweet" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedTweet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.normalizer.parse_shared_content" class="md-nav__link">
    <span class="md-ellipsis">
      parse_shared_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper" class="md-nav__link">
    <span class="md-ellipsis">
      TweetScraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TweetScraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.scraper.TweetScraper.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data.batched" class="md-nav__link">
    <span class="md-ellipsis">
      batched()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.twitter.get_data.get_twitter_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_twitter_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle" class="md-nav__link">
    <span class="md-ellipsis">
      crowdtangle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="crowdtangle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedFacebookPost
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedFacebookPost">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedSharedContent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedSharedContent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.parse_media_type" class="md-nav__link">
    <span class="md-ellipsis">
      parse_media_type()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.parse_facebook_post" class="md-nav__link">
    <span class="md-ellipsis">
      parse_facebook_post()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.normalizer.parse_shared_content" class="md-nav__link">
    <span class="md-ellipsis">
      parse_shared_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client" class="md-nav__link">
    <span class="md-ellipsis">
      client
    </span>
  </a>
  
    <nav class="md-nav" aria-label="client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient" class="md-nav__link">
    <span class="md-ellipsis">
      CTClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CTClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.CTClient.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.adhoc_post_id_parser" class="md-nav__link">
    <span class="md-ellipsis">
      adhoc_post_id_parser()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.client.parse_rate_limit" class="md-nav__link">
    <span class="md-ellipsis">
      parse_rate_limit()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data.get_facebook_post_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_facebook_post_data()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.get_data.yield_facebook_data" class="md-nav__link">
    <span class="md-ellipsis">
      yield_facebook_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager" class="md-nav__link">
    <span class="md-ellipsis">
      ContextManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContextManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.contexts.ContextManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.crowdtangle.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.youtube" class="md-nav__link">
    <span class="md-ellipsis">
      youtube
    </span>
  </a>
  
    <nav class="md-nav" aria-label="youtube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedYouTubeChannel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedYouTubeChannel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedYouTubeVideo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NormalizedYouTubeVideo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo.from_payload" class="md-nav__link">
    <span class="md-ellipsis">
      from_payload()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.ParsedLink" class="md-nav__link">
    <span class="md-ellipsis">
      ParsedLink
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParsedLink">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.ParsedLink.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.normalizer.normalize" class="md-nav__link">
    <span class="md-ellipsis">
      normalize()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.get_data.get_youtube_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_youtube_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context" class="md-nav__link">
    <span class="md-ellipsis">
      context
    </span>
  </a>
  
    <nav class="md-nav" aria-label="context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar" class="md-nav__link">
    <span class="md-ellipsis">
      ProgressBar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ProgressBar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.ProgressBar.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer" class="md-nav__link">
    <span class="md-ellipsis">
      Writer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.youtube.context.Writer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media" class="md-nav__link">
    <span class="md-ellipsis">
      other_social_media
    </span>
  </a>
  
    <nav class="md-nav" aria-label="other_social_media">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="add_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.other_social_media.add_data.add_data" class="md-nav__link">
    <span class="md-ellipsis">
      add_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minall.enrichment.article_text" class="md-nav__link">
    <span class="md-ellipsis">
      article_text
    </span>
  </a>
  
    <nav class="md-nav" aria-label="article_text">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.normalizer" class="md-nav__link">
    <span class="md-ellipsis">
      normalizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="normalizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.normalizer.NormalizedScrapedWebPage" class="md-nav__link">
    <span class="md-ellipsis">
      NormalizedScrapedWebPage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper" class="md-nav__link">
    <span class="md-ellipsis">
      scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper" class="md-nav__link">
    <span class="md-ellipsis">
      Scraper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scraper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.Scraper.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.scraper.good_response" class="md-nav__link">
    <span class="md-ellipsis">
      good_response()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.get_data.get_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_data()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts" class="md-nav__link">
    <span class="md-ellipsis">
      contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager" class="md-nav__link">
    <span class="md-ellipsis">
      ContextManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContextManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__enter__" class="md-nav__link">
    <span class="md-ellipsis">
      __enter__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__exit__" class="md-nav__link">
    <span class="md-ellipsis">
      __exit__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minall.enrichment.article_text.contexts.ContextManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="enrichment-tools">Enrichment tools</h1>
<p>The enrichment workflow uses scraping and <code>minet</code>'s API clients to collect data about URLs and associated shared content in the SQLite database's <code>links</code> table and <code>shared_content</code> table, respectively. The collection method that <code>minall</code> deploys is dependent on the URL's domain name.</p>
<p>The URLs in the SQLite database's <code>links</code> table are parsed using the <a href="https://github.com/medialab/ural"><code>ural</code></a> Python library and grouped in the following subsets:</p>
<p>Subsets of URLs</p>
<table>
<thead>
<tr>
<th>subset</th>
<th>dataclass</th>
<th>module</th>
</tr>
</thead>
<tbody>
<tr>
<td>URLs from Facebook</td>
<td><strong>Normalized Facebook Post Data</strong></td>
<td><code>minall.enrichment.crowdtangle.get_data</code></td>
</tr>
<tr>
<td>URLs from YouTube</td>
<td><strong>Normalized YouTube Video Data</strong>, <strong>Normalized YouTube Channel Data</strong></td>
<td><code>minall.enrichment.youtube.get_data</code></td>
</tr>
<tr>
<td>URLs from other social media platforms (because they cannot be scraped)</td>
<td>NA</td>
<td><code>minall.enrichment.other_social_media.add_data</code></td>
</tr>
<tr>
<td>URLs not from social media platforms (they can be scraped)</td>
<td><strong>Normalized Scraped Web Page Data</strong></td>
<td><code>minall.enrichment.article_text.get_data</code></td>
</tr>
</tbody>
</table>
<p>If the user has a Buzzsumo API token, all URLs, regardless of grouping by domain name, are searched in the Buzzsumo database.</p>
<p>All URLs</p>
<table>
<thead>
<tr>
<th>subset</th>
<th>dataclass</th>
<th>module</th>
</tr>
</thead>
<tbody>
<tr>
<td>all URLs</td>
<td><strong>Normalized Buzzsumo Exact URL Data</strong></td>
<td><code>minall.enrichment.buzzsumo.get_data</code></td>
</tr>
</tbody>
</table>
<p>Due to the diversity of data available for different types of URLs and provided by different data sources, an important step in all the enrichment procedures is normalizing the data. Each target URL's metadata, regardless of its domain name, must conform to the SQLite database's <code>links</code> table. Such harmonization of data fields constitutes an important feature of the <code>minall</code> workflow and is not (yet) something replicated in <code>minet</code>.</p>
<p>The following table illustrates which of each data source's data fields are matched to which column in the database's <code>links</code> table.</p>
<table>
<thead>
<tr>
<th><code>links</code> SQL table</th>
<th>Normalized Scraped Web Page Data</th>
<th>Normalized Buzzsumo Exact URL Data</th>
<th>Normalized Facebook Post Data</th>
<th>Normalized YouTube Video Data</th>
<th>Normalized YouTube Channel Data</th>
<th>Normalized Tweet</th>
</tr>
</thead>
<tbody>
<tr>
<td>url (TEXT)</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>domain (TEXT)</td>
<td></td>
<td>X</td>
<td>X ("facebook.com")</td>
<td>X ("youtube.com")</td>
<td>X ("youtube.com")</td>
<td>X ("twitter.com")</td>
</tr>
<tr>
<td>work_type (TEXT)</td>
<td>X ("WebPage")</td>
<td>X ("WebPage", "Article", "VideoObject")</td>
<td>X ("SocialMediaPosting", "ImageObject", "VideoObject")</td>
<td>X ("VideoObject")</td>
<td>X ("WebPage")</td>
<td>X ("SocialMediaPosting")</td>
</tr>
<tr>
<td>duration (TEXT)</td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>identifier (TEXT)</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>date_published (TEXT)</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>date_modified (TEXT)</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>country_of_origin (TEXT)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>abstract (TEXT)</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>keywords (TEXT)</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>title (TEXT)</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>text (TEXT)</td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>hashtags (TEXT)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>creator_type (TEXT)</td>
<td></td>
<td></td>
<td>X ("defacto:SocialMediaAccount")</td>
<td>X ("WebPgae")</td>
<td></td>
<td>X ("defacto:SocialMediaAccount")</td>
</tr>
<tr>
<td>creator_date_created (TEXT)</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>creator_location_created (TEXT)</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>creator_identifier (TEXT)</td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>creator_facebook_follow (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>creator_facebook_subscribe (INTEGER)</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>creator_twitter_follow (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>creator_youtube_subscribe (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>creator_create_video (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>creator_name (TEXT)</td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>creator_url (TEXT)</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>facebook_comment (INTEGER)</td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>facebook_like (INTEGER)</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>facebook_share (INTEGER)</td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>pinterest_share (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>twitter_share (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>tiktok_share (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>tiktok_comment (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>reddit_engagement (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>youtube_watch (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>youtube_comment (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>youtube_like (INTEGER)</td>
<td></td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>youtube_favorite (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>youtube_subscribe (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>create_video (INTEGER)</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Note: <code>creator_facebook_follow</code> does not have any data field feeding to it. I still need to confirm the use of <code>creator_facebook_follow</code> (Facebook accounts' <code>FollowAction</code> might have been made redundant by the <code>SubscribeAction</code>).</em></p>
<hr />


<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.enrichment" class="doc doc-heading">
          <code>minall.enrichment.enrichment</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Class for data collection and coalescing.</p>
<p>With the class <code>Enrichment</code>, this module manages the data collection process.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h3 id="minall.enrichment.enrichment.Enrichment" class="doc doc-heading">
          <code>Enrichment</code>


</h3>


  <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Enrichment</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">links_table</span><span class="p">:</span> <span class="n">LinksTable</span><span class="p">,</span>
        <span class="n">shared_content_table</span><span class="p">:</span> <span class="n">SharedContentTable</span><span class="p">,</span>
        <span class="n">keys</span><span class="p">:</span> <span class="n">APIKeys</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;From given API keys and URL data set, filter URLs by domain and initialize data enrichment class.</span>

<span class="sd">        Args:</span>
<span class="sd">            links_table (BaseTable): BaseTable class instance of SQL table for URL dataset.</span>
<span class="sd">            shared_content_table (BaseTable): BaseTable class instance of SQL table for shared content related to URLs in dataset.</span>
<span class="sd">            keys (APIKeys): APIKeys class instance of minet API client configurations.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span> <span class="o">=</span> <span class="n">links_table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span> <span class="o">=</span> <span class="n">shared_content_table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">keys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span> <span class="o">=</span> <span class="n">FilteredLinks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">buzzsumo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For all URLs, collect data from Buzzsumo and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">buzzsumo_token</span><span class="p">:</span>
            <span class="n">get_buzzsumo_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">all_links</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">buzzsumo_token</span><span class="p">,</span>
                <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scraper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For select URLs, collect data via scraping and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>

        <span class="c1"># In multiple threads, scrape HTML data and write to a CSV file</span>
        <span class="n">get_article_text</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">to_scrape</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce the results in the CSV file to the links table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">other_social_media</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For select URLs, update the &#39;work_type&#39; column in the database&#39;s &#39;links&#39; table with the value &#39;SocialMediaPosting&#39;.&quot;&quot;&quot;</span>
        <span class="c1"># Assign default type to social media post</span>
        <span class="n">add_type_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">other_social</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce the results in the CSV file to the links table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">twitter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For Twitter URLs, scrape data from site and coalesce in teh database&#39;s &#39;links&#39; and &#39;shared_content&#39; tables.&quot;&quot;&quot;</span>
        <span class="n">get_twitter_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">twitter</span><span class="p">,</span>
            <span class="n">links_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
            <span class="n">shared_content_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce the results in the CSV files to the links and shared content tables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span>
            <span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">facebook</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For Facebook URLs, collect data from CrowdTangle and coalesce in the database&#39;s &#39;links&#39; and &#39;shared_content&#39; tables.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_token</span><span class="p">:</span>
            <span class="n">get_facebook_post_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">facebook</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_token</span><span class="p">,</span>
                <span class="n">rate_limit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_rate_limit</span><span class="p">,</span>
                <span class="n">links_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
                <span class="n">shared_content_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Coalesce the results in the CSV files to the links and shared content tables</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span>
                <span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">youtube</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For YouTube URLs, collect data from YouTube API and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">youtube_key</span><span class="p">:</span>
            <span class="c1"># In single thread, collect YouTube API data and write to a CSV file</span>
            <span class="n">get_youtube_data</span><span class="p">(</span>
                <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">youtube</span><span class="p">,</span>
                <span class="n">keys</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">youtube_key</span><span class="p">,</span>
                <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Coalesce the results in the CSV file to the links table</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buzzsumo_only</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="n">executor</span> <span class="o">=</span> <span class="n">SQLiteWrapper</span><span class="p">(</span><span class="n">connection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">conn</span><span class="p">)</span>
        <span class="c1"># apply domain to all urls</span>
        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">all_links</span><span class="p">:</span>
            <span class="n">query</span><span class="p">,</span> <span class="n">domain</span> <span class="o">=</span> <span class="n">apply_domain</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">query</span> <span class="ow">and</span> <span class="n">domain</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">conn</span>
                <span class="n">executor</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>

        <span class="c1"># Must collect Buzzsumo data first because, when platform-specific data (below)</span>
        <span class="c1"># is not None, we want to replace the Buzzsumo data with the latter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buzzsumo</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">buzzsumo_only</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">youtube</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">youtube</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">twitter</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">twitter</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">facebook</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">facebook</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">other_social</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">other_social_media</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">to_scrape</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scraper</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">links_table</span><span class="p">,</span> <span class="n">shared_content_table</span><span class="p">,</span> <span class="n">keys</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>From given API keys and URL data set, filter URLs by domain and initialize data enrichment class.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>links_table</code></td>
          <td>
                <code>BaseTable</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>BaseTable class instance of SQL table for URL dataset.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>shared_content_table</code></td>
          <td>
                <code>BaseTable</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>BaseTable class instance of SQL table for shared content related to URLs in dataset.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>keys</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="minall.utils.parse_config.APIKeys" href="../utils/#minall.utils.parse_config.APIKeys">APIKeys</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>APIKeys class instance of minet API client configurations.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">links_table</span><span class="p">:</span> <span class="n">LinksTable</span><span class="p">,</span>
    <span class="n">shared_content_table</span><span class="p">:</span> <span class="n">SharedContentTable</span><span class="p">,</span>
    <span class="n">keys</span><span class="p">:</span> <span class="n">APIKeys</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;From given API keys and URL data set, filter URLs by domain and initialize data enrichment class.</span>

<span class="sd">    Args:</span>
<span class="sd">        links_table (BaseTable): BaseTable class instance of SQL table for URL dataset.</span>
<span class="sd">        shared_content_table (BaseTable): BaseTable class instance of SQL table for shared content related to URLs in dataset.</span>
<span class="sd">        keys (APIKeys): APIKeys class instance of minet API client configurations.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span> <span class="o">=</span> <span class="n">links_table</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span> <span class="o">=</span> <span class="n">shared_content_table</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">keys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span> <span class="o">=</span> <span class="n">FilteredLinks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.buzzsumo" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">buzzsumo</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For all URLs, collect data from Buzzsumo and coalesce in the database's 'links' table.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">buzzsumo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For all URLs, collect data from Buzzsumo and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">buzzsumo_token</span><span class="p">:</span>
        <span class="n">get_buzzsumo_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">all_links</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">buzzsumo_token</span><span class="p">,</span>
            <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.facebook" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">facebook</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For Facebook URLs, collect data from CrowdTangle and coalesce in the database's 'links' and 'shared_content' tables.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">facebook</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For Facebook URLs, collect data from CrowdTangle and coalesce in the database&#39;s &#39;links&#39; and &#39;shared_content&#39; tables.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_token</span><span class="p">:</span>
        <span class="n">get_facebook_post_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">facebook</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_token</span><span class="p">,</span>
            <span class="n">rate_limit</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">crowdtangle_rate_limit</span><span class="p">,</span>
            <span class="n">links_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
            <span class="n">shared_content_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce the results in the CSV files to the links and shared content tables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span>
            <span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.other_social_media" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">other_social_media</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For select URLs, update the 'work_type' column in the database's 'links' table with the value 'SocialMediaPosting'.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">other_social_media</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For select URLs, update the &#39;work_type&#39; column in the database&#39;s &#39;links&#39; table with the value &#39;SocialMediaPosting&#39;.&quot;&quot;&quot;</span>
    <span class="c1"># Assign default type to social media post</span>
    <span class="n">add_type_data</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">other_social</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span>
    <span class="p">)</span>
    <span class="c1"># Coalesce the results in the CSV file to the links table</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.scraper" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">scraper</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For select URLs, collect data via scraping and coalesce in the database's 'links' table.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">scraper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For select URLs, collect data via scraping and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>

    <span class="c1"># In multiple threads, scrape HTML data and write to a CSV file</span>
    <span class="n">get_article_text</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">to_scrape</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span>
    <span class="p">)</span>
    <span class="c1"># Coalesce the results in the CSV file to the links table</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.twitter" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">twitter</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For Twitter URLs, scrape data from site and coalesce in teh database's 'links' and 'shared_content' tables.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">twitter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For Twitter URLs, scrape data from site and coalesce in teh database&#39;s &#39;links&#39; and &#39;shared_content&#39; tables.&quot;&quot;&quot;</span>
    <span class="n">get_twitter_data</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">twitter</span><span class="p">,</span>
        <span class="n">links_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
        <span class="n">shared_content_outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># Coalesce the results in the CSV files to the links and shared content tables</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span>
        <span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_table</span><span class="o">.</span><span class="n">outfile</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.enrichment.Enrichment.youtube" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">youtube</span><span class="p">()</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For YouTube URLs, collect data from YouTube API and coalesce in the database's 'links' table.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/enrichment.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">youtube</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For YouTube URLs, collect data from YouTube API and coalesce in the database&#39;s &#39;links&#39; table.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">youtube_key</span><span class="p">:</span>
        <span class="c1"># In single thread, collect YouTube API data and write to a CSV file</span>
        <span class="n">get_youtube_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filtered_links</span><span class="o">.</span><span class="n">youtube</span><span class="p">,</span>
            <span class="n">keys</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">youtube_key</span><span class="p">,</span>
            <span class="n">outfile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Coalesce the results in the CSV file to the links table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">update_from_csv</span><span class="p">(</span><span class="n">datafile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">links_table</span><span class="o">.</span><span class="n">outfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.utils" class="doc doc-heading">
          <code>minall.enrichment.utils</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Functions for data collection.</p>
<p>This module provides the following class and functions:</p>
<ul>
<li><code>get_domain(url)</code> - Parse domain from URL string.</li>
<li><code>apply_domain(url)</code> - Generate SQL query to insert domain into table.</li>
<li><code>FilteredLinks(table)</code> - From SQL table, select subsets of URLs based on domain name.</li>
</ul>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h3 id="minall.enrichment.utils.FilteredLinks" class="doc doc-heading">
          <code>FilteredLinks</code>


</h3>


  <div class="doc doc-contents ">

  
      <p>Selects all URLs from SQL table and returns subsets.</p>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">FilteredLinks</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Selects all URLs from SQL table and returns subsets.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n">LinksTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Select and store all URLs from a target SQL table.</span>

<span class="sd">        Args:</span>
<span class="sd">            table (BaseTable): Target SQL table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SELECT url FROM </span><span class="si">{</span><span class="n">table</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">twitter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of URLs from Twitter.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: List of URL strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span> <span class="k">if</span> <span class="n">is_twitter_url</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">youtube</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of URLs from YouTube.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: List of URL strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span> <span class="k">if</span> <span class="n">is_youtube_url</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">facebook</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of URLs from Facebook.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: List of URL strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span> <span class="k">if</span> <span class="n">is_facebook_url</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">other_social</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of URLs from social media platforms.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: List of URL strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">url</span>
            <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span>
            <span class="k">if</span> <span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
            <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;facebook.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tiktok.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;instagram.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;twitter.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;snapchat.com&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">to_scrape</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of URLs not from social media platforms.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: List of URL strings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">url</span>
            <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span>
            <span class="k">if</span> <span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
            <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;facebook.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tiktok.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;instagram.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;twitter.com&quot;</span><span class="p">,</span>
                <span class="s2">&quot;snapchat.com&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h4 id="minall.enrichment.utils.FilteredLinks.facebook" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">facebook</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>List of URLs from Facebook.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: List of URL strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="minall.enrichment.utils.FilteredLinks.other_social" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">other_social</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>List of URLs from social media platforms.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: List of URL strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="minall.enrichment.utils.FilteredLinks.to_scrape" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_scrape</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>List of URLs not from social media platforms.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: List of URL strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="minall.enrichment.utils.FilteredLinks.twitter" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">twitter</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>List of URLs from Twitter.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: List of URL strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h4 id="minall.enrichment.utils.FilteredLinks.youtube" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">youtube</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
  
      <p>List of URLs from YouTube.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List[str]: List of URL strings.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>




<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.utils.FilteredLinks.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">table</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Select and store all URLs from a target SQL table.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>table</code></td>
          <td>
                <code>BaseTable</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target SQL table.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/utils.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n">LinksTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Select and store all URLs from a target SQL table.</span>

<span class="sd">    Args:</span>
<span class="sd">        table (BaseTable): Target SQL table.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all_links</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SELECT url FROM </span><span class="si">{</span><span class="n">table</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h3 id="minall.enrichment.utils.apply_domain" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">apply_domain</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Compose SQL query to update the domain column of a URL's row in the 'links' SQLite table.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">apply_domain</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://www.youtube.com/channel/MkDocs&quot;</span><span class="p">)</span>
<span class="go">(&quot;UPDATE links SET domain = &#39;youtube.com&#39; WHERE url = &#39;https://www.youtube.com/channel/MkDocs&#39;&quot;, &#39;youtube.com&#39;)</span>
</code></pre></div>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL string.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[str | None, str | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[str | None, str | None]: If domain was parsed, a tuple containing the SQL query and domain name.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/utils.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">apply_domain</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compose SQL query to update the domain column of a URL&#39;s row in the &#39;links&#39; SQLite table.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; apply_domain(url=&quot;https://www.youtube.com/channel/MkDocs&quot;)</span>
<span class="sd">        (&quot;UPDATE links SET domain = &#39;youtube.com&#39; WHERE url = &#39;https://www.youtube.com/channel/MkDocs&#39;&quot;, &#39;youtube.com&#39;)</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): URL string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[str | None, str | None]: If domain was parsed, a tuple containing the SQL query and domain name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">query</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">domain</span> <span class="o">=</span> <span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">domain</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;UPDATE </span><span class="si">{</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">table_name</span><span class="si">}</span><span class="s2"> SET domain = &#39;</span><span class="si">{</span><span class="n">domain</span><span class="si">}</span><span class="s2">&#39; WHERE </span><span class="si">{</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">primary_key</span><span class="si">}</span><span class="s2"> = &#39;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
    <span class="k">return</span> <span class="n">query</span><span class="p">,</span> <span class="n">domain</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="minall.enrichment.utils.get_domain" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Parse the domain name of a given URL string.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://www.youtube.com/channel/MkDocs&quot;</span><span class="p">)</span>
<span class="go">&#39;youtube.com&#39;</span>
</code></pre></div>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL string.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str | None: If successfully parsed, domain name.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/utils.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_domain</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the domain name of a given URL string.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; get_domain(url=&quot;https://www.youtube.com/channel/MkDocs&quot;)</span>
<span class="sd">        &#39;youtube.com&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): URL string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: If successfully parsed, domain name.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">domain_name</span> <span class="o">=</span> <span class="n">ural</span><span class="o">.</span><span class="n">get_domain_name</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">domain_name</span> <span class="ow">in</span> <span class="n">YOUTUBE_DOMAINS</span><span class="p">:</span>
        <span class="n">domain_name</span> <span class="o">=</span> <span class="s2">&quot;youtube.com&quot;</span>
    <span class="k">return</span> <span class="n">domain_name</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.buzzsumo" class="doc doc-heading">
          <code>minall.enrichment.buzzsumo</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Enrichment workflow's Buzzsumo data collection.</p>
<p>Modules exported by this package:</p>
<ul>
<li><code>normalizer</code>: Dataclass to normlalize minet's Buzzsumo result object.</li>
<li><code>contexts</code>: Context manager for client's CSV writers, multi-threader, and progress bar.</li>
<li><code>get_data</code>: Function that runs all of the Buzzsumo enrichment process.</li>
<li><code>client</code>: Wrapper for minet's Buzzsumo API client that normalizes minet's result.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.buzzsumo.normalizer" class="doc doc-heading">
          <code>minall.enrichment.buzzsumo.normalizer</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains constants for minet's Buzzsumo API client and a dataclass to normalize minet's Buzzsumo result.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult" class="doc doc-heading">
          <code>NormalizedBuzzsumoResult</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalize minet's Buzzsumo API result.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL searched in Buzzsumo database.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL's ontological subtype, i.e. "WebPage", "Article", "VideoObject".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>twitter_share</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the target URL appeared on Twitter.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>facebook_share</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the target URL appeared on Facebook.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Title of target URL web content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code><span title="datetime.datetime">datetime</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date target URL web content was published.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>pinterest_share</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the target URL appeared on Pinterest.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Entity intellectually responsible for (author of) the target URL's web content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If target URL is a social media post, the platform's identifier for the author.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>duration</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the target URL is of a video, the video's duration.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>facebook_comment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times Facebook users commented on a post containing the target URL.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_watch</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the target URL is of a YouTube video, number of times YouTube users watched the video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_like</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the target URL is of a YouTube video, number of times YouTube users liked the video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>tiktok_share</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the target URL is of TikTok content, number of shares on TikTok.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>tiktok_comment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the target URL is of TikTok content, number of times TikTok users commented on the content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>reddit_engagement</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the target URL appeared on Reddit.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/buzzsumo/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedBuzzsumoResult</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalize minet&#39;s Buzzsumo API result.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): Target URL searched in Buzzsumo database.</span>
<span class="sd">        work_type (str): Target URL&#39;s ontological subtype, i.e. &quot;WebPage&quot;, &quot;Article&quot;, &quot;VideoObject&quot;.</span>
<span class="sd">        twitter_share (int): Number of times the target URL appeared on Twitter.</span>
<span class="sd">        facebook_share (int): Number of times the target URL appeared on Facebook.</span>
<span class="sd">        title (str): Title of target URL web content.</span>
<span class="sd">        date_published (datetime): Date target URL web content was published.</span>
<span class="sd">        pinterest_share (int): Number of times the target URL appeared on Pinterest.</span>
<span class="sd">        creator_name (str): Entity intellectually responsible for (author of) the target URL&#39;s web content.</span>
<span class="sd">        creator_identifier (str): If target URL is a social media post, the platform&#39;s identifier for the author.</span>
<span class="sd">        duration (int): If the target URL is of a video, the video&#39;s duration.</span>
<span class="sd">        facebook_comment (int): Number of times Facebook users commented on a post containing the target URL.</span>
<span class="sd">        youtube_watch (int): If the target URL is of a YouTube video, number of times YouTube users watched the video.</span>
<span class="sd">        youtube_like (int): If the target URL is of a YouTube video, number of times YouTube users liked the video.</span>
<span class="sd">        tiktok_share (int): If the target URL is of TikTok content, number of shares on TikTok.</span>
<span class="sd">        tiktok_comment (int): If the target URL is of TikTok content, number of times TikTok users commented on the content.</span>
<span class="sd">        reddit_engagement (int): Number of times the target URL appeared on Reddit.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">domain</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">twitter_share</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">facebook_share</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span>
    <span class="n">pinterest_share</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">creator_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">creator_identifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">facebook_comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">youtube_watch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">youtube_like</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">youtube_comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">tiktok_share</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">tiktok_comment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">reddit_engagement</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_buzzsumo_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">BuzzsumoArticle</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper function for transforming Buzzsumo&#39;s content classification into Schema.org subtype.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (BuzzsumoArticle | None): If target URL was found in Buzzsumo database, minet&#39;s result; otherwise, None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Schema for web content&#39;s subtype.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">video_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;is_video&quot;</span><span class="p">]</span>
        <span class="n">article_types</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;is_general_article&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_how_to_article&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_infographic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_interview&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_list&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_newsletter&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_press_release&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_review&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_what_post&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_why_post&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;WebPage&quot;</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">video_types</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
                    <span class="k">return</span> <span class="s2">&quot;VideoObject&quot;</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">article_types</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
                    <span class="k">return</span> <span class="s2">&quot;Article&quot;</span>
        <span class="k">return</span> <span class="n">work_type</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">BuzzsumoArticle</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedBuzzsumoResult&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s Buzzsumo result and creates normalized dataclass.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target URL searched in Buzzsumo&#39;s database.</span>
<span class="sd">            data (BuzzsumoArticle | None): If target URL was found in Buzzsumo database, minet&#39;s result; otherwise, None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedBuzzsumoResult: Dataclass that normalizes minet&#39;s Buzzsumo data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">domain</span><span class="o">=</span><span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
                <span class="n">work_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_buzzsumo_type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">twitter_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;twitter_shares&quot;</span><span class="p">),</span>
                <span class="n">facebook_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;facebook_shares&quot;</span><span class="p">),</span>
                <span class="n">title</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">),</span>
                <span class="n">date_published</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;published_date&quot;</span><span class="p">),</span>
                <span class="n">pinterest_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;pinterest_shares&quot;</span><span class="p">),</span>
                <span class="n">creator_name</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;author_name&quot;</span><span class="p">),</span>
                <span class="n">creator_identifier</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;twitter_user_id&quot;</span><span class="p">),</span>
                <span class="n">duration</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;video_length&quot;</span><span class="p">),</span>
                <span class="n">facebook_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;facebook_comments&quot;</span><span class="p">),</span>
                <span class="n">youtube_watch</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_views&quot;</span><span class="p">),</span>
                <span class="n">youtube_like</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_likes&quot;</span><span class="p">),</span>
                <span class="n">youtube_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_comments&quot;</span><span class="p">),</span>
                <span class="n">tiktok_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;tiktok_share_count&quot;</span><span class="p">),</span>
                <span class="n">tiktok_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;tiktok_comment_count&quot;</span><span class="p">),</span>
                <span class="n">reddit_engagement</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;total_reddit_engagements&quot;</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">work_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_buzzsumo_type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">twitter_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">facebook_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">date_published</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">pinterest_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">creator_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">creator_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">facebook_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">youtube_watch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">youtube_like</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">youtube_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">tiktok_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">tiktok_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">reddit_engagement</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.from_payload" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Parses minet's Buzzsumo result and creates normalized dataclass.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL searched in Buzzsumo's database.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="minet.buzzsumo.types.BuzzsumoArticle">BuzzsumoArticle</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If target URL was found in Buzzsumo database, minet's result; otherwise, None.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedBuzzsumoResult</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult" href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult">NormalizedBuzzsumoResult</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes minet's Buzzsumo data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">BuzzsumoArticle</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedBuzzsumoResult&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s Buzzsumo result and creates normalized dataclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target URL searched in Buzzsumo&#39;s database.</span>
<span class="sd">        data (BuzzsumoArticle | None): If target URL was found in Buzzsumo database, minet&#39;s result; otherwise, None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedBuzzsumoResult: Dataclass that normalizes minet&#39;s Buzzsumo data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">domain</span><span class="o">=</span><span class="n">get_domain</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
            <span class="n">work_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_buzzsumo_type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
            <span class="n">twitter_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;twitter_shares&quot;</span><span class="p">),</span>
            <span class="n">facebook_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;facebook_shares&quot;</span><span class="p">),</span>
            <span class="n">title</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">),</span>
            <span class="n">date_published</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;published_date&quot;</span><span class="p">),</span>
            <span class="n">pinterest_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;pinterest_shares&quot;</span><span class="p">),</span>
            <span class="n">creator_name</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;author_name&quot;</span><span class="p">),</span>
            <span class="n">creator_identifier</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;twitter_user_id&quot;</span><span class="p">),</span>
            <span class="n">duration</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;video_length&quot;</span><span class="p">),</span>
            <span class="n">facebook_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;facebook_comments&quot;</span><span class="p">),</span>
            <span class="n">youtube_watch</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_views&quot;</span><span class="p">),</span>
            <span class="n">youtube_like</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_likes&quot;</span><span class="p">),</span>
            <span class="n">youtube_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;youtube_comments&quot;</span><span class="p">),</span>
            <span class="n">tiktok_share</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;tiktok_share_count&quot;</span><span class="p">),</span>
            <span class="n">tiktok_comment</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;tiktok_comment_count&quot;</span><span class="p">),</span>
            <span class="n">reddit_engagement</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;total_reddit_engagements&quot;</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">work_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_buzzsumo_type</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
            <span class="n">domain</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">twitter_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">facebook_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">date_published</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">pinterest_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">creator_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">creator_identifier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">facebook_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">youtube_watch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">youtube_like</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">youtube_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">tiktok_share</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">tiktok_comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">reddit_engagement</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult.parse_buzzsumo_type" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_buzzsumo_type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Helper function for transforming Buzzsumo's content classification into Schema.org subtype.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="minet.buzzsumo.types.BuzzsumoArticle">BuzzsumoArticle</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If target URL was found in Buzzsumo database, minet's result; otherwise, None.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Schema for web content's subtype.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse_buzzsumo_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">BuzzsumoArticle</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper function for transforming Buzzsumo&#39;s content classification into Schema.org subtype.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (BuzzsumoArticle | None): If target URL was found in Buzzsumo database, minet&#39;s result; otherwise, None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Schema for web content&#39;s subtype.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">video_types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;is_video&quot;</span><span class="p">]</span>
    <span class="n">article_types</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;is_general_article&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_how_to_article&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_infographic&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_interview&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_list&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_newsletter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_press_release&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_review&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_what_post&quot;</span><span class="p">,</span>
        <span class="s2">&quot;is_why_post&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;WebPage&quot;</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">video_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;VideoObject&quot;</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">article_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;Article&quot;</span>
    <span class="k">return</span> <span class="n">work_type</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.buzzsumo.client" class="doc doc-heading">
          <code>minall.enrichment.buzzsumo.client</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module containing a wrapper for minet's Buzzsumo API client.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.buzzsumo.client.BuzzsumoClient" class="doc doc-heading">
          <code>BuzzsumoClient</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Wrapper for minet's Buzzsumo API client.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">BuzzsumoClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;BUZZSUMO_TOKEN&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://archive.fosdem.org/2020/schedule/event/open_research_web_mining/&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapper</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">NormalizedBuzzsumoResult(url=&#39;https://archive.fosdem.org/2020/schedule/event/open_research_web_mining/&#39;, work_type=&#39;Article&#39;, domain=&#39;fosdem.org&#39;, twitter_share=0, facebook_share=0, title=&#39;FOSDEM 2020 - Empowering social scientists with web mining tools&#39;, date_published=datetime.datetime(2024, 1, 4, 15, 48, 1), pinterest_share=0, creator_name=None, creator_identifier=None, duration=None, facebook_comment=0, youtube_watch=None, youtube_like=None, youtube_comment=None, tiktok_share=None, tiktok_comment=None, reddit_engagement=0)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/buzzsumo/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BuzzsumoClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrapper for minet&#39;s Buzzsumo API client.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import os</span>
<span class="sd">        &gt;&gt;&gt; wrapper = BuzzsumoClient(token=os.environ[&quot;BUZZSUMO_TOKEN&quot;])</span>
<span class="sd">        &gt;&gt;&gt; url=&quot;https://archive.fosdem.org/2020/schedule/event/open_research_web_mining/&quot;</span>
<span class="sd">        &gt;&gt;&gt; wrapper(url)</span>
<span class="sd">        NormalizedBuzzsumoResult(url=&#39;https://archive.fosdem.org/2020/schedule/event/open_research_web_mining/&#39;, work_type=&#39;Article&#39;, domain=&#39;fosdem.org&#39;, twitter_share=0, facebook_share=0, title=&#39;FOSDEM 2020 - Empowering social scientists with web mining tools&#39;, date_published=datetime.datetime(2024, 1, 4, 15, 48, 1), pinterest_share=0, creator_name=None, creator_identifier=None, duration=None, facebook_comment=0, youtube_watch=None, youtube_like=None, youtube_comment=None, tiktok_share=None, tiktok_comment=None, reddit_engagement=0)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates an instance of mient&#39;s BuzzsumoAPIClient and sets values for the Buzzsumo API&#39;s requried begin-date and end-date parameters.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; wrapper = BuzzsumoClient(token=&quot;&lt;TOKEN&gt;&quot;)</span>
<span class="sd">            &gt;&gt;&gt; type(wrapper)</span>
<span class="sd">            &lt;class &#39;minall.enrichment.buzzsumo.client.BuzzsumoClient&#39;&gt;</span>
<span class="sd">            &gt;&gt;&gt; type(wrapper.client)</span>
<span class="sd">            &lt;class &#39;minet.buzzsumo.client.BuzzSumoAPIClient&#39;&gt;</span>

<span class="sd">        Args:</span>
<span class="sd">            token (str): Buzzsumo API token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">BuzzSumoAPIClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">begin</span> <span class="o">=</span> <span class="n">BEGINDATE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">ENDDATE</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes mient&#39;s Buzzsumo API client on a URL and returns normalized data.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedBuzzsumoResult: Dataclass that normalizes minet&#39;s Buzzsumo result.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">exact_url</span><span class="p">(</span>
            <span class="n">search_url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">begin_timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">begin</span><span class="p">,</span> <span class="n">end_timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.client.BuzzsumoClient.__call__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Executes mient's Buzzsumo API client on a URL and returns normalized data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedBuzzsumoResult</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult" href="#minall.enrichment.buzzsumo.normalizer.NormalizedBuzzsumoResult">NormalizedBuzzsumoResult</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes minet's Buzzsumo result.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NormalizedBuzzsumoResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes mient&#39;s Buzzsumo API client on a URL and returns normalized data.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedBuzzsumoResult: Dataclass that normalizes minet&#39;s Buzzsumo result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">exact_url</span><span class="p">(</span>
        <span class="n">search_url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">begin_timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">begin</span><span class="p">,</span> <span class="n">end_timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">NormalizedBuzzsumoResult</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.client.BuzzsumoClient.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Creates an instance of mient's BuzzsumoAPIClient and sets values for the Buzzsumo API's requried begin-date and end-date parameters.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">BuzzsumoClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="s2">&quot;&lt;TOKEN&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">wrapper</span><span class="p">)</span>
<span class="go">&lt;class &#39;minall.enrichment.buzzsumo.client.BuzzsumoClient&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">client</span><span class="p">)</span>
<span class="go">&lt;class &#39;minet.buzzsumo.client.BuzzSumoAPIClient&#39;&gt;</span>
</code></pre></div>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Buzzsumo API token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates an instance of mient&#39;s BuzzsumoAPIClient and sets values for the Buzzsumo API&#39;s requried begin-date and end-date parameters.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; wrapper = BuzzsumoClient(token=&quot;&lt;TOKEN&gt;&quot;)</span>
<span class="sd">        &gt;&gt;&gt; type(wrapper)</span>
<span class="sd">        &lt;class &#39;minall.enrichment.buzzsumo.client.BuzzsumoClient&#39;&gt;</span>
<span class="sd">        &gt;&gt;&gt; type(wrapper.client)</span>
<span class="sd">        &lt;class &#39;minet.buzzsumo.client.BuzzSumoAPIClient&#39;&gt;</span>

<span class="sd">    Args:</span>
<span class="sd">        token (str): Buzzsumo API token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">BuzzSumoAPIClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">begin</span> <span class="o">=</span> <span class="n">BEGINDATE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">ENDDATE</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.buzzsumo.get_data" class="doc doc-heading">
          <code>minall.enrichment.buzzsumo.get_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module containing a function that runs all of the Buzzsumo enrichment process.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.buzzsumo.get_data.get_buzzsumo_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_buzzsumo_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Main function for writing Buzzsumo API results to a CSV file.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of URLs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Token for Buzzsumo API.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file in which to write results.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_buzzsumo_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main function for writing Buzzsumo API results to a CSV file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (List[str]): List of URLs.</span>
<span class="sd">        token (str): Token for Buzzsumo API.</span>
<span class="sd">        outfile (Path): Path to CSV file in which to write results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">WriterContext</span><span class="p">(</span><span class="n">links_file</span><span class="o">=</span><span class="n">outfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
        <span class="c1"># Save results to memory, trigger Global Interpreter Lock (GIL)</span>
        <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">yield_buzzsumo_data</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.buzzsumo.contexts" class="doc doc-heading">
          <code>minall.enrichment.buzzsumo.contexts</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module containing contexts for Buzzsumo data collection's CSV writer, progress bar, and multi-threader.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.buzzsumo.contexts.GeneratorContext" class="doc doc-heading">
          <code>GeneratorContext</code>


</h4>


  <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">GeneratorContext</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up class for Buzzsumo client wrapper&#39;s contexts.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Progress</span><span class="p">,</span> <span class="n">ThreadPoolExecutor</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the wrapper&#39;s context variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[Progress, ThreadPoolExecutor]: Context variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
            <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">SpinnerColumn</span><span class="p">(),</span>
            <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
            <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">executor</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">executor</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the Buzzsumo client wrapper&#39;s context variables.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cancel_futures</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.GeneratorContext.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the wrapper's context variables.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[<span title="rich.progress.Progress">Progress</span>, <span title="concurrent.futures.ThreadPoolExecutor">ThreadPoolExecutor</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[Progress, ThreadPoolExecutor]: Context variables.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Progress</span><span class="p">,</span> <span class="n">ThreadPoolExecutor</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the wrapper&#39;s context variables.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[Progress, ThreadPoolExecutor]: Context variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
        <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
        <span class="n">SpinnerColumn</span><span class="p">(),</span>
        <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
        <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">executor</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">executor</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.GeneratorContext.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stop the Buzzsumo client wrapper's context variables.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop the Buzzsumo client wrapper&#39;s context variables.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cancel_futures</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.GeneratorContext.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up class for Buzzsumo client wrapper's contexts.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up class for Buzzsumo client wrapper&#39;s contexts.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.buzzsumo.contexts.WriterContext" class="doc doc-heading">
          <code>WriterContext</code>


</h4>


  <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WriterContext</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up class for iteratively writing normalized Buzzsumo results to CSV.</span>

<span class="sd">        Args:</span>
<span class="sd">            links_file (Path): Path to the links table CSV file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the CSV writer&#39;s context.</span>

<span class="sd">        Returns:</span>
<span class="sd">            csv.DictWriter: Context variable for writing CSV rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Set up links file writer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stops the writer&#39;s context variable.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.WriterContext.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the CSV writer's context.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="csv.DictWriter">DictWriter</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>csv.DictWriter: Context variable for writing CSV rows.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the CSV writer&#39;s context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        csv.DictWriter: Context variable for writing CSV rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Set up links file writer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.WriterContext.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stops the writer's context variable.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stops the writer&#39;s context variable.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.buzzsumo.contexts.WriterContext.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">links_file</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up class for iteratively writing normalized Buzzsumo results to CSV.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>links_file</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to the links table CSV file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/buzzsumo/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up class for iteratively writing normalized Buzzsumo results to CSV.</span>

<span class="sd">    Args:</span>
<span class="sd">        links_file (Path): Path to the links table CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.twitter" class="doc doc-heading">
          <code>minall.enrichment.twitter</code>


</h2>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.twitter.normalizer" class="doc doc-heading">
          <code>minall.enrichment.twitter.normalizer</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains constants for minet's Twitter Guest API Scraper and a dataclass to normalize minet's result.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.twitter.normalizer.NormalizedSharedLink" class="doc doc-heading">
          <code>NormalizedSharedLink</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalized media embedded in Tweet.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>post_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL of the Tweet in which the content is embedded.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>content_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL of the embedded content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>media_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content URL's ontological subtype, i.e. "VideoObject".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>height</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Height of the embedded visual media content. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width of the embedded visual media content. Default = None.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/twitter/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedSharedLink</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalized media embedded in Tweet.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        post_url (str): URL of the Tweet in which the content is embedded.</span>
<span class="sd">        content_url (str): URL of the embedded content.</span>
<span class="sd">        media_type (str): Content URL&#39;s ontological subtype, i.e. &quot;VideoObject&quot;.</span>
<span class="sd">        height (int | None): Height of the embedded visual media content. Default = None.</span>
<span class="sd">        width (int | None ): Width of the embedded visual media content. Default = None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">post_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">media_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.twitter.normalizer.NormalizedTweet" class="doc doc-heading">
          <code>NormalizedTweet</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalize minet's Twitter API result.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL of Tweet searched on Twitter.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>identifier</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tweet ID. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="datetime.datetime">datetime</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>UTC timestamp of Tweet publication, parsed as DateTime object. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>text</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Text of Tweet . Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_date_created</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="datetime.datetime">datetime</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>UTC timestamp of User account creation, parsed as DateTime object. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_identifier</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>User account ID . Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_twitter_follow</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of accounts that follow the User account that published the Tweet. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the User account. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>twitter_share</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the Tweet was retweeted. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>twitter_like</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the Tweet was liked. Default = None.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>domain</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain name of the target URL. Default = "twitter.com".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL's ontological subtype. Default = "SocialMediaPosting".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>hashtags</code></td>
          <td>
                <code><span title="typing.List">List</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Hashtags embedded in Tweet. Default = [].</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype of the User account. Default = "defacto:SocialMediaAccount".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/twitter/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedTweet</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalize minet&#39;s Twitter API result.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): Target URL of Tweet searched on Twitter.</span>
<span class="sd">        identifier (Optional[str]): Tweet ID. Default = None.</span>
<span class="sd">        date_published (Optional[datetime]): UTC timestamp of Tweet publication, parsed as DateTime object. Default = None.</span>
<span class="sd">        text (Optional[str]): Text of Tweet . Default = None.</span>
<span class="sd">        creator_date_created (Optional[datetime]): UTC timestamp of User account creation, parsed as DateTime object. Default = None.</span>
<span class="sd">        creator_identifier (Optional[str]): User account ID . Default = None.</span>
<span class="sd">        creator_twitter_follow (Optional[int]): Number of accounts that follow the User account that published the Tweet. Default = None.</span>
<span class="sd">        creator_name (Optional[str]): Name of the User account. Default = None.</span>
<span class="sd">        twitter_share (Optional[int]): Number of times the Tweet was retweeted. Default = None.</span>
<span class="sd">        twitter_like (Optional[int]): Number of times the Tweet was liked. Default = None.</span>
<span class="sd">        domain (Optional[str]): Domain name of the target URL. Default = &quot;twitter.com&quot;.</span>
<span class="sd">        work_type (str): Target URL&#39;s ontological subtype. Default = &quot;SocialMediaPosting&quot;.</span>
<span class="sd">        hashtags (List): Hashtags embedded in Tweet. Default = [].</span>
<span class="sd">        creator_type (str): Ontological subtype of the User account. Default = &quot;defacto:SocialMediaAccount&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">creator_date_created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">creator_identifier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">creator_twitter_follow</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">creator_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">twitter_share</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">twitter_like</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;twitter.com&quot;</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;SocialMediaPosting&quot;</span>
    <span class="n">hashtags</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span>
    <span class="n">creator_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;defacto:SocialMediaAccount&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tweet</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedTweet&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tweet</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NormalizedTweet</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                <span class="n">identifier</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="n">date_published</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;timestamp_utc&quot;</span><span class="p">]),</span>
                <span class="n">text</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
                <span class="n">creator_date_created</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span>
                    <span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;user_timestamp_utc&quot;</span><span class="p">]</span>
                <span class="p">),</span>
                <span class="n">creator_identifier</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;user_id&quot;</span><span class="p">],</span>
                <span class="n">creator_twitter_follow</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;user_followers&quot;</span><span class="p">],</span>
                <span class="n">creator_name</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;user_name&quot;</span><span class="p">],</span>
                <span class="n">twitter_share</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;retweet_count&quot;</span><span class="p">],</span>
                <span class="n">twitter_like</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;like_count&quot;</span><span class="p">],</span>
                <span class="n">hashtags</span><span class="o">=</span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;hashtags&quot;</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">NormalizedTweet</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.twitter.normalizer.parse_shared_content" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_shared_content</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">tweet</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Parse the potentially multiple media embedded in a Tweet and yield each one.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL of Tweet with embedded media.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>tweet</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Full metadata of Tweet.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.twitter.normalizer.NormalizedSharedLink" href="#minall.enrichment.twitter.normalizer.NormalizedSharedLink">NormalizedSharedLink</a> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generator[NormalizedSharedLink | None, None, None]: If media could be parsed, its normalized metadata.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/twitter/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_shared_content</span><span class="p">(</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tweet</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">|</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">NormalizedSharedLink</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the potentially multiple media embedded in a Tweet and yield each one.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): URL of Tweet with embedded media.</span>
<span class="sd">        tweet (Dict | None): Full metadata of Tweet.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Generator[NormalizedSharedLink | None, None, None]: If media could be parsed, its normalized metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tweet</span><span class="p">:</span>
        <span class="n">media_types</span> <span class="o">=</span> <span class="n">tweet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;media_types&quot;</span><span class="p">)</span>
        <span class="n">media_urls</span> <span class="o">=</span> <span class="n">tweet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;media_urls&quot;</span><span class="p">)</span>
        <span class="n">media_files</span> <span class="o">=</span> <span class="n">tweet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;media_files&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">media_types</span>
            <span class="ow">and</span> <span class="n">media_urls</span>
            <span class="ow">and</span> <span class="n">media_files</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">media_files</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">media_urls</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">media_urls</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">media_types</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">medias</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">media_types</span><span class="p">,</span> <span class="n">media_urls</span><span class="p">,</span> <span class="n">media_files</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">media_type</span><span class="p">,</span> <span class="n">media_url</span><span class="p">,</span> <span class="n">media_file</span> <span class="ow">in</span> <span class="n">medias</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">media_type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
                    <span class="n">media_type</span> <span class="o">=</span> <span class="s2">&quot;VideoObject&quot;</span>
                <span class="k">elif</span> <span class="n">media_type</span> <span class="o">==</span> <span class="s2">&quot;photo&quot;</span><span class="p">:</span>
                    <span class="n">media_type</span> <span class="o">=</span> <span class="s2">&quot;ImageObject&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">media_type</span> <span class="o">=</span> <span class="s2">&quot;MediaObject&quot;</span>
                <span class="k">yield</span> <span class="n">NormalizedSharedLink</span><span class="p">(</span>
                    <span class="n">post_url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">content_url</span><span class="o">=</span><span class="n">media_url</span><span class="p">,</span> <span class="n">media_type</span><span class="o">=</span><span class="n">media_type</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.twitter.scraper" class="doc doc-heading">
          <code>minall.enrichment.twitter.scraper</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains TweetScraper wrapper for setting up and calling the minet TweetGuestAPIScraper</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.twitter.scraper.TweetScraper" class="doc doc-heading">
          <code>TweetScraper</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Wrapper for running minet's Tweet Guest API Scraper.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">scraper</span> <span class="o">=</span> <span class="n">TweetScraper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tweet_url</span> <span class="o">=</span> <span class="s2">&quot;https://twitter.com/Paris2024/status/1551605445156012038&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="p">,</span> <span class="n">tweet</span> <span class="o">=</span> <span class="n">scraper</span><span class="p">(</span><span class="n">tweet_url</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span>
<span class="go">&#39;https://twitter.com/Paris2024/status/1551605445156012038&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tweet</span><span class="p">[</span><span class="s2">&quot;local_time&quot;</span><span class="p">]</span>
<span class="go">&#39;2022-07-25T16:29:00&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/twitter/scraper.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TweetScraper</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrapper for running minet&#39;s Tweet Guest API Scraper.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; scraper = TweetScraper()</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; tweet_url = &quot;https://twitter.com/Paris2024/status/1551605445156012038&quot;</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; url, tweet = scraper(tweet_url)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; url</span>
<span class="sd">        &#39;https://twitter.com/Paris2024/status/1551605445156012038&#39;</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; tweet[&quot;local_time&quot;]</span>
<span class="sd">        &#39;2022-07-25T16:29:00&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up minet&#39;s Twitter Guest API Scraper&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scraper</span> <span class="o">=</span> <span class="n">TwitterGuestAPIScraper</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If the URL is of a Tweet and the ID can be parsed, scrape and return data.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): URL of Tweet.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[str, Dict | None]: If data could be scraped, the target URL and the data; otherwise the unsuccessful URL and None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parse_twitter_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="n">TwitterTweet</span><span class="p">):</span>
            <span class="n">tweet_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">tweet_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scraper</span><span class="o">.</span><span class="n">tweet</span><span class="p">(</span><span class="n">tweet_id</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">pass</span>
        <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.twitter.scraper.TweetScraper.__call__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>If the URL is of a Tweet and the ID can be parsed, scrape and return data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL of Tweet.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[str, <span title="typing.Dict">Dict</span> | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[str, Dict | None]: If data could be scraped, the target URL and the data; otherwise the unsuccessful URL and None.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/twitter/scraper.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If the URL is of a Tweet and the ID can be parsed, scrape and return data.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): URL of Tweet.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[str, Dict | None]: If data could be scraped, the target URL and the data; otherwise the unsuccessful URL and None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parse_twitter_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="n">TwitterTweet</span><span class="p">):</span>
        <span class="n">tweet_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tweet_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scraper</span><span class="o">.</span><span class="n">tweet</span><span class="p">(</span><span class="n">tweet_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
    <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.twitter.scraper.TweetScraper.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up minet's Twitter Guest API Scraper</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/twitter/scraper.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up minet&#39;s Twitter Guest API Scraper&quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">scraper</span> <span class="o">=</span> <span class="n">TwitterGuestAPIScraper</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.twitter.get_data" class="doc doc-heading">
          <code>minall.enrichment.twitter.get_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains functions for collecting, normalizing, and writing data from Twitter.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.twitter.get_data.batched" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">batched</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Batch data into lists of length n. The last batch may be shorter.</p>
<p>Function implemeneted in Python 3.12 itertools. Solution taken from Python issue at <a href="https://github.com/python/cpython/issues/98363">https://github.com/python/cpython/issues/98363</a>.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/twitter/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">batched</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Batch data into lists of length n. The last batch may be shorter.</span>

<span class="sd">    Function implemeneted in Python 3.12 itertools. Solution taken from Python issue at [https://github.com/python/cpython/issues/98363](https://github.com/python/cpython/issues/98363).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># batched(&#39;ABCDEFG&#39;, 3) --&gt; ABC DEF G</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;n must be &gt;= 1&quot;</span><span class="p">)</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">batch</span> <span class="o">:=</span> <span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">n</span><span class="p">)):</span>
        <span class="k">yield</span> <span class="n">batch</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.twitter.get_data.get_twitter_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_twitter_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">links_outfile</span><span class="p">,</span> <span class="n">shared_content_outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Transforms a set of Twitter URLs into collected Tweet metadata, written to CSV files.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of Twitter ULRs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>links_outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for Tweet metadata.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>shared_content_outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for metadata about links in Tweets.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/twitter/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_twitter_data</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">links_outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
    <span class="n">shared_content_outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transforms a set of Twitter URLs into collected Tweet metadata, written to CSV files.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (List[str]): Set of Twitter ULRs.</span>
<span class="sd">        links_outfile (Path): Path to CSV file for Tweet metadata.</span>
<span class="sd">        shared_content_outfile (Path): Path to CSV file for metadata about links in Tweets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">ContextManager</span><span class="p">(</span><span class="n">links_outfile</span><span class="p">,</span> <span class="n">shared_content_outfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">contexts</span><span class="p">:</span>
        <span class="n">links_writer</span><span class="p">,</span> <span class="n">shared_content_writer</span><span class="p">,</span> <span class="n">progress</span> <span class="o">=</span> <span class="n">contexts</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold blue]Querying Tweets&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">batched</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
            <span class="n">scraper</span> <span class="o">=</span> <span class="n">TweetScraper</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">executor</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scraper</span><span class="p">,</span> <span class="n">batch</span><span class="p">):</span>
                    <span class="n">formatted_tweet</span> <span class="o">=</span> <span class="n">NormalizedTweet</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">tweet</span><span class="o">=</span><span class="n">tweet</span><span class="p">)</span>
                    <span class="n">links_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">formatted_tweet</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">())</span>

                    <span class="c1"># Write the shared content data</span>
                    <span class="k">for</span> <span class="n">shared_link</span> <span class="ow">in</span> <span class="n">parse_shared_content</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">tweet</span><span class="o">=</span><span class="n">tweet</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">shared_link</span><span class="p">:</span>
                            <span class="n">shared_content_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span>
                                <span class="n">shared_link</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
                            <span class="p">)</span>

                    <span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.crowdtangle" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Enrichment workflow's CrowdTangle data collection.</p>
<p>Modules exported by this package:</p>
<ul>
<li><code>normalizer</code>: Dataclass to normlalize minet's CrowdTangle result object.</li>
<li><code>contexts</code>: Context manager for client's CSV writers, multi-threader, and progress bar.</li>
<li><code>get_data</code>: Function that runs all of the CrowdTangle enrichment process.</li>
<li><code>client</code>: Wrapper for minet's CrowdTangle API client that normalizes minet's result.</li>
<li><code>exceptions</code>:</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.crowdtangle.normalizer" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle.normalizer</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains functions and dataclasses to normalize minet's CrowdTangle API client result.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost" class="doc doc-heading">
          <code>NormalizedFacebookPost</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalize minet's CrowdTangle API result for Facebook posts.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook content's ontological subtype, i.e. "SocialMediaPosting", "ImageObject", "VideoObject".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>duration</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If a Facebook content is a video, the video's duration.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Facebook's identifier for the post.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date of teh Facebook post's publication.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_modified</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date when the Facebook post was last modified.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If applicable, title of the Facebook post content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>abstract</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If applicable, description of the Facebook post content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>text</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If applicable, text of Facebook post content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Facebook's identifier for the post's creator.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of entity responsible for the Facebook post publication.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_location_created</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If available, principal country in which is located the entity responsible for the post's publication.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL for the entity responsible for the Facebook post's publication.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_facebook_subscribe</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of Facebook accounts subscribed to the account of the entity responsible for the Facebook post's publication.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>facebook_comment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of comments on the Facebook post.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>facebook_like</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of Facebook accounts that have liked the Facebook post.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>facebook_share</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of times the Facebook post has been shared on Facebook.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain for the Facebook post's URL. Default = "facebook.com".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype for the Facebook post's creator. Default = "defacto:SocialMediaAccount".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedFacebookPost</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalize minet&#39;s CrowdTangle API result for Facebook posts.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): Target Facebook URL.</span>
<span class="sd">        work_type (str): Target Facebook content&#39;s ontological subtype, i.e. &quot;SocialMediaPosting&quot;, &quot;ImageObject&quot;, &quot;VideoObject&quot;.</span>
<span class="sd">        duration (str): If a Facebook content is a video, the video&#39;s duration.</span>
<span class="sd">        identifier (str): Facebook&#39;s identifier for the post.</span>
<span class="sd">        date_published (str): Date of teh Facebook post&#39;s publication.</span>
<span class="sd">        date_modified (str): Date when the Facebook post was last modified.</span>
<span class="sd">        title (str): If applicable, title of the Facebook post content.</span>
<span class="sd">        abstract (str): If applicable, description of the Facebook post content.</span>
<span class="sd">        text (str): If applicable, text of Facebook post content.</span>
<span class="sd">        creator_identifier (str): Facebook&#39;s identifier for the post&#39;s creator.</span>
<span class="sd">        creator_name (str): Name of entity responsible for the Facebook post publication.</span>
<span class="sd">        creator_location_created (str): If available, principal country in which is located the entity responsible for the post&#39;s publication.</span>
<span class="sd">        creator_url (str): URL for the entity responsible for the Facebook post&#39;s publication.</span>
<span class="sd">        creator_facebook_subscribe (int): Number of Facebook accounts subscribed to the account of the entity responsible for the Facebook post&#39;s publication.</span>
<span class="sd">        facebook_comment (int): Number of comments on the Facebook post.</span>
<span class="sd">        facebook_like (int): Number of Facebook accounts that have liked the Facebook post.</span>
<span class="sd">        facebook_share (int): Number of times the Facebook post has been shared on Facebook.</span>
<span class="sd">        domain (str): Domain for the Facebook post&#39;s URL. Default = &quot;facebook.com&quot;.</span>
<span class="sd">        creator_type (str): Ontological subtype for the Facebook post&#39;s creator. Default = &quot;defacto:SocialMediaAccount&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">duration</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date_modified</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">abstract</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">text</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">creator_identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_location_created</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">creator_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_facebook_subscribe</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">facebook_comment</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">facebook_like</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">facebook_share</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;facebook.com&quot;</span>
    <span class="n">creator_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;defacto:SocialMediaAccount&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">CrowdTanglePost</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedFacebookPost&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s CrowdTangle result and creates normalized dataclass.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target Facebook URL.</span>
<span class="sd">            result (CrowdTanglePost): Result object returned from minet&#39;s CrowdTangle API client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedFacebookPost: Dataclass that normalizes minet&#39;s CrowdTangle data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;SocialMediaPosting&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;photo&quot;</span><span class="p">:</span>
                <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;ImageObject&quot;</span>
            <span class="k">elif</span> <span class="n">result</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
                <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;VideoObject&quot;</span>

        <span class="k">return</span> <span class="n">NormalizedFacebookPost</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">work_type</span><span class="o">=</span><span class="n">work_type</span><span class="p">,</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">video_length_ms</span><span class="p">,</span>
            <span class="n">identifier</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">date_published</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="n">date_modified</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">abstract</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
            <span class="n">creator_identifier</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">creator_facebook_subscribe</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">subscriber_count</span><span class="p">,</span>
            <span class="n">creator_name</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">creator_location_created</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">page_admin_top_country</span><span class="p">,</span>
            <span class="n">creator_url</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="n">facebook_comment</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_comment_count</span><span class="p">,</span>
            <span class="n">facebook_like</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_like_count</span><span class="p">,</span>
            <span class="n">facebook_share</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_share_count</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost.from_payload" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Parses minet's CrowdTangle result and creates normalized dataclass.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>result</code></td>
          <td>
                <code><span title="minet.crowdtangle.types.CrowdTanglePost">CrowdTanglePost</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Result object returned from minet's CrowdTangle API client.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedFacebookPost</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost" href="#minall.enrichment.crowdtangle.normalizer.NormalizedFacebookPost">NormalizedFacebookPost</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes minet's CrowdTangle data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">result</span><span class="p">:</span> <span class="n">CrowdTanglePost</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedFacebookPost&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s CrowdTangle result and creates normalized dataclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target Facebook URL.</span>
<span class="sd">        result (CrowdTanglePost): Result object returned from minet&#39;s CrowdTangle API client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedFacebookPost: Dataclass that normalizes minet&#39;s CrowdTangle data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;SocialMediaPosting&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;photo&quot;</span><span class="p">:</span>
            <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;ImageObject&quot;</span>
        <span class="k">elif</span> <span class="n">result</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
            <span class="n">work_type</span> <span class="o">=</span> <span class="s2">&quot;VideoObject&quot;</span>

    <span class="k">return</span> <span class="n">NormalizedFacebookPost</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
        <span class="n">work_type</span><span class="o">=</span><span class="n">work_type</span><span class="p">,</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">video_length_ms</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">date_published</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="n">date_modified</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">updated</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="n">abstract</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">message</span><span class="p">,</span>
        <span class="n">creator_identifier</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">creator_facebook_subscribe</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">subscriber_count</span><span class="p">,</span>
        <span class="n">creator_name</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">creator_location_created</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">page_admin_top_country</span><span class="p">,</span>
        <span class="n">creator_url</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="n">facebook_comment</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_comment_count</span><span class="p">,</span>
        <span class="n">facebook_like</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_like_count</span><span class="p">,</span>
        <span class="n">facebook_share</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">actual_share_count</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent" class="doc doc-heading">
          <code>NormalizedSharedContent</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass for normalizing data about media content shared in a Facebook post.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>post_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL, which shared the media content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>content_url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle's URI for the shared media.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>media_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype for the shared media, i.e. "ImageObject".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>height</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If available, the height in pixels of the shared media.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If available, the width in pixels of the shared media.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedSharedContent</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass for normalizing data about media content shared in a Facebook post.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        post_url (str): Target Facebook URL, which shared the media content.</span>
<span class="sd">        content_url (str): CrowdTangle&#39;s URI for the shared media.</span>
<span class="sd">        media_type (str): Ontological subtype for the shared media, i.e. &quot;ImageObject&quot;.</span>
<span class="sd">        height (int | None): If available, the height in pixels of the shared media.</span>
<span class="sd">        width (int | None): If available, the width in pixels of the shared media.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">post_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">content_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">media_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_media_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Helper function to transform CrowdTangle&#39;s media classification into Schema.org&#39;s CreativeWork subtype.</span>

<span class="sd">        Args:</span>
<span class="sd">            type (str | None): If available, CrowdTangle&#39;s classification of the media object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Schema.org&#39;s CreativeWork subtype.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;photo&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;ImageObject&quot;</span>
        <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;VideoObject&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;MediaObject&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">media</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedSharedContent&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses JSON data in CrowdTanglePost&#39;s &quot;media&quot; attribute.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): URL of Facebook post that contains shared media.</span>
<span class="sd">            media (dict): JSON in CrowdTanglePost&#39;s &quot;media&quot; attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedSharedContent: Dataclass that normalizes information about Facebook post&#39;s shared media content.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">NormalizedSharedContent</span><span class="p">(</span>
            <span class="n">post_url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">content_url</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">),</span>
            <span class="n">media_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_media_type</span><span class="p">(</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)),</span>
            <span class="n">height</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">),</span>
            <span class="n">width</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.from_payload" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">media</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Parses JSON data in CrowdTanglePost's "media" attribute.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL of Facebook post that contains shared media.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>media</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>JSON in CrowdTanglePost's "media" attribute.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedSharedContent</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent" href="#minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent">NormalizedSharedContent</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes information about Facebook post's shared media content.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">media</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedSharedContent&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses JSON data in CrowdTanglePost&#39;s &quot;media&quot; attribute.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): URL of Facebook post that contains shared media.</span>
<span class="sd">        media (dict): JSON in CrowdTanglePost&#39;s &quot;media&quot; attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedSharedContent: Dataclass that normalizes information about Facebook post&#39;s shared media content.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">NormalizedSharedContent</span><span class="p">(</span>
        <span class="n">post_url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
        <span class="n">content_url</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">),</span>
        <span class="n">media_type</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">parse_media_type</span><span class="p">(</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)),</span>
        <span class="n">height</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">),</span>
        <span class="n">width</span><span class="o">=</span><span class="n">media</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.normalizer.NormalizedSharedContent.parse_media_type" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_media_type</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Helper function to transform CrowdTangle's media classification into Schema.org's CreativeWork subtype.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>type</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If available, CrowdTangle's classification of the media object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>str</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Schema.org's CreativeWork subtype.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse_media_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper function to transform CrowdTangle&#39;s media classification into Schema.org&#39;s CreativeWork subtype.</span>

<span class="sd">    Args:</span>
<span class="sd">        type (str | None): If available, CrowdTangle&#39;s classification of the media object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Schema.org&#39;s CreativeWork subtype.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;photo&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;ImageObject&quot;</span>
    <span class="k">elif</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;VideoObject&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;MediaObject&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.normalizer.parse_facebook_post" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_facebook_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Transform minet's CrowdTanglePost object into normalized data as CSV dict row.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>result</code></td>
          <td>
                <code><span title="minet.crowdtangle.types.CrowdTanglePost">CrowdTanglePost</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If CrowdTangle API returned a match, minet's CrowdTangle API result object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Dict</code></td>          <td>
                <code><span title="typing.Dict">Dict</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Normalized data for Facebook post.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_facebook_post</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">CrowdTanglePost</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transform minet&#39;s CrowdTanglePost object into normalized data as CSV dict row.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target Facebook URL.</span>
<span class="sd">        result (CrowdTanglePost | None): If CrowdTangle API returned a match, minet&#39;s CrowdTangle API result object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict: Normalized data for Facebook post.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">formatted_result</span> <span class="o">=</span> <span class="n">NormalizedFacebookPost</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">formatted_result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;facebook.com&quot;</span><span class="p">,</span> <span class="s2">&quot;work_type&quot;</span><span class="p">:</span> <span class="s2">&quot;SocialMediaPosting&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.normalizer.parse_shared_content" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_shared_content</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Generator that streams the "media" attribute from minet's CrowdTanglePost object and returns normalized data as CSV dict row.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>result</code></td>
          <td>
                <code><span title="minet.crowdtangle.types.CrowdTanglePost">CrowdTanglePost</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>minet's CrowdTangle API client result object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Dict">Dict</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generator[Dict, None, None]: Formatted CSV dict row of normalized shared content data.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_shared_content</span><span class="p">(</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">CrowdTanglePost</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generator that streams the &quot;media&quot; attribute from minet&#39;s CrowdTanglePost object and returns normalized data as CSV dict row.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target Facebook URL.</span>
<span class="sd">        result (CrowdTanglePost): minet&#39;s CrowdTangle API client result object.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Generator[Dict, None, None]: Formatted CSV dict row of normalized shared content data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s2">&quot;media&quot;</span><span class="p">),</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">media</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">media</span><span class="p">:</span>
            <span class="n">formatted_result</span> <span class="o">=</span> <span class="n">NormalizedSharedContent</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">media</span><span class="o">=</span><span class="n">media</span>
            <span class="p">)</span>
            <span class="k">yield</span> <span class="n">formatted_result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.crowdtangle.client" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle.client</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains a client and helper functions for collecting data from CrowdTangle.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.crowdtangle.client.CTClient" class="doc doc-heading">
          <code>CTClient</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Wrapper for minet's CrowdTangle API client with helper function for parsing Facebook post ID.</p>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/crowdtangle/client.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CTClient</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrapper for minet&#39;s CrowdTangle API client with helper function for parsing Facebook post ID.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create instance of minet&#39;s CrowdTangle API client.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (str): CrowdTangle API token.</span>
<span class="sd">            rate_limit (int): CrowdTangle API rate limit.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">CrowdTangleAPIClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="n">rate_limit</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CrowdTanglePost</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute collection of CrowdTangle data from parsed Facebook post ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target Facebook URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[str, CrowdTanglePost | None]: Target URL and, if successful, minet&#39;s CrowdTanglePost result object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">post_id</span> <span class="o">=</span> <span class="n">adhoc_post_id_parser</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">post</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">post_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">post_id</span><span class="o">=</span><span class="n">post_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">post</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.client.CTClient.__call__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Execute collection of CrowdTangle data from parsed Facebook post ID.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[str, <span title="minet.crowdtangle.types.CrowdTanglePost">CrowdTanglePost</span> | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[str, CrowdTanglePost | None]: Target URL and, if successful, minet's CrowdTanglePost result object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CrowdTanglePost</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute collection of CrowdTangle data from parsed Facebook post ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target Facebook URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[str, CrowdTanglePost | None]: Target URL and, if successful, minet&#39;s CrowdTanglePost result object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">post_id</span> <span class="o">=</span> <span class="n">adhoc_post_id_parser</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">post</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">post_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">post_id</span><span class="o">=</span><span class="n">post_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">post</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.client.CTClient.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Create instance of minet's CrowdTangle API client.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>rate_limit</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API rate limit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create instance of minet&#39;s CrowdTangle API client.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (str): CrowdTangle API token.</span>
<span class="sd">        rate_limit (int): CrowdTangle API rate limit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">CrowdTangleAPIClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="n">rate_limit</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.client.adhoc_post_id_parser" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">adhoc_post_id_parser</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Helper function to catch and fix problems parsing Facebook post ID.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target Facebook URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>str | None: If successful, post ID for target Facebook URL.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">adhoc_post_id_parser</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Helper function to catch and fix problems parsing Facebook post ID.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target Facebook URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: If successful, post ID for target Facebook URL.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">post_id</span> <span class="o">=</span> <span class="n">post_id_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">post_id</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">post_id</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">parsed_url</span> <span class="o">=</span> <span class="n">parse_facebook_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parsed_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">):</span>
                <span class="n">post_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;parent_handle&quot;</span><span class="p">):</span>
                <span class="n">parent_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;parent_handle&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;parent_id&quot;</span><span class="p">):</span>
                <span class="n">parent_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">,</span> <span class="s2">&quot;parent_id&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="n">post_id</span> <span class="ow">and</span> <span class="n">parent_id</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">post_id</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">parent_id</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">return</span>
                <span class="k">return</span> <span class="n">post_id</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="n">parent_id</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.client.parse_rate_limit" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">parse_rate_limit</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Set default or convert rate limit string to integer.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>rate_limit</code></td>
          <td>
                <code>int | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Value of rate limit for CrowdTangle API.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>int</code></td>          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Converted rate limit integer for CrowdTangle API.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/client.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_rate_limit</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set default or convert rate limit string to integer.</span>

<span class="sd">    Args:</span>
<span class="sd">        rate_limit (int | str | None): Value of rate limit for CrowdTangle API.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Converted rate limit integer for CrowdTangle API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rate_limit</span><span class="p">:</span>
        <span class="n">rate_limit</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">rate_limit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rate_limit</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.crowdtangle.get_data" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle.get_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains functions for collecting, normalizing, and writing data from CrowdTangle.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.get_data.get_facebook_post_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_facebook_post_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">,</span> <span class="n">links_outfile</span><span class="p">,</span> <span class="n">shared_content_outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Function to collect, normalize, and write data from CrowdTangle.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of target Facebook URLs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>rate_limit</code></td>
          <td>
                <code>int | str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API rate limit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>links_outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for Facebook post metadata.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>shared_content_outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV for shared content metadata.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_facebook_post_data</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">rate_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">links_outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
    <span class="n">shared_content_outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to collect, normalize, and write data from CrowdTangle.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (List[str]): Set of target Facebook URLs.</span>
<span class="sd">        token (str): CrowdTangle API token.</span>
<span class="sd">        rate_limit (int | str | None): CrowdTangle API rate limit.</span>
<span class="sd">        links_outfile (Path): Path to CSV file for Facebook post metadata.</span>
<span class="sd">        shared_content_outfile (Path): Path to CSV for shared content metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">rate_limit</span> <span class="o">=</span> <span class="n">parse_rate_limit</span><span class="p">(</span><span class="n">rate_limit</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">ContextManager</span><span class="p">(</span><span class="n">links_outfile</span><span class="p">,</span> <span class="n">shared_content_outfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">contexts</span><span class="p">:</span>
        <span class="n">links_writer</span><span class="p">,</span> <span class="n">shared_content_writer</span><span class="p">,</span> <span class="n">progress</span> <span class="o">=</span> <span class="n">contexts</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold blue]Querying Facebook posts&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">yield_facebook_data</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="n">rate_limit</span>
        <span class="p">):</span>
            <span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="n">formatted_post</span> <span class="o">=</span> <span class="n">parse_facebook_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">response</span><span class="p">)</span>
            <span class="n">links_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">formatted_post</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">formatted_media</span> <span class="ow">in</span> <span class="n">parse_shared_content</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">response</span><span class="p">):</span>
                <span class="n">shared_content_writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">formatted_media</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.crowdtangle.get_data.yield_facebook_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">yield_facebook_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Streams target Facebook URLs to multi-threading context and yields minet's results.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of target Facebook URLs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>token</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API token.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>rate_limit</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CrowdTangle API rate limit.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Yields:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generator[Tuple[str, CrowdTanglePost | None], None, None]: Target Facebook URL and, if available, result of minet's CrowdTangle API client.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">yield_facebook_data</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rate_limit</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Streams target Facebook URLs to multi-threading context and yields minet&#39;s results.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (List[str]): Set of target Facebook URLs.</span>
<span class="sd">        token (str): CrowdTangle API token.</span>
<span class="sd">        rate_limit (int): CrowdTangle API rate limit.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Generator[Tuple[str, CrowdTanglePost | None], None, None]: Target Facebook URL and, if available, result of minet&#39;s CrowdTangle API client.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">CTClient</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="n">rate_limit</span><span class="o">=</span><span class="n">rate_limit</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">()</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">executor</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">url</span><span class="p">,</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.crowdtangle.contexts" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle.contexts</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Context manager for CrowdTangle's CSV writers, multi-threader, and progress bar.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.crowdtangle.contexts.ContextManager" class="doc doc-heading">
          <code>ContextManager</code>


</h4>


  <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>minall/enrichment/crowdtangle/contexts.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ContextManager</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">shared_content_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up class for scraper&#39;s contexts.</span>

<span class="sd">        Args:</span>
<span class="sd">            links_file (Path): Path to CSV file for post metadata.</span>
<span class="sd">            shared_content_file (Path): Path to CSV file for posts&#39; shared content metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_file</span> <span class="o">=</span> <span class="n">shared_content_file</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">Progress</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the module&#39;s context variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[csv.DictWriter, csv.DictWriter, Progress]: CSV writer for post metadata, CSV writer for shared content metadata, rich progress bar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Set up links file writer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

        <span class="c1"># Set up shared_content file writer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">ShareContentConstants</span><span class="o">.</span><span class="n">col_names</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

        <span class="c1"># Set up progress bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
            <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">SpinnerColumn</span><span class="p">(),</span>
            <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
            <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the scraper&#39;s context variables.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.contexts.ContextManager.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the module's context variables.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[<span title="csv.DictWriter">DictWriter</span>, <span title="csv.DictWriter">DictWriter</span>, <span title="rich.progress.Progress">Progress</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[csv.DictWriter, csv.DictWriter, Progress]: CSV writer for post metadata, CSV writer for shared content metadata, rich progress bar.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">Progress</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the module&#39;s context variables.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[csv.DictWriter, csv.DictWriter, Progress]: CSV writer for post metadata, CSV writer for shared content metadata, rich progress bar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Set up links file writer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

    <span class="c1"># Set up shared_content file writer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shared_content_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">ShareContentConstants</span><span class="o">.</span><span class="n">col_names</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

    <span class="c1"># Set up progress bar</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
        <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
        <span class="n">SpinnerColumn</span><span class="p">(),</span>
        <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
        <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_writer</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.contexts.ContextManager.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stop the scraper's context variables.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop the scraper&#39;s context variables.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.crowdtangle.contexts.ContextManager.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">links_file</span><span class="p">,</span> <span class="n">shared_content_file</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up class for scraper's contexts.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>links_file</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for post metadata.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>shared_content_file</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for posts' shared content metadata.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/crowdtangle/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">shared_content_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up class for scraper&#39;s contexts.</span>

<span class="sd">    Args:</span>
<span class="sd">        links_file (Path): Path to CSV file for post metadata.</span>
<span class="sd">        shared_content_file (Path): Path to CSV file for posts&#39; shared content metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shared_content_file</span> <span class="o">=</span> <span class="n">shared_content_file</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.crowdtangle.exceptions" class="doc doc-heading">
          <code>minall.enrichment.crowdtangle.exceptions</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Exceptions raised during data collection from CrowdTangle API.</p>
<p>This module contains exceptions raised during data collection from CrowdTangle API. The module contains the following exceptions:</p>
<ul>
<li><code>NoPostID</code> - Neither minet nor minall's adhoc parser successfully recovered the Facebook post's ID.</li>
<li><code>PostNotfound</code> - CrowdTangle did not return a post matching the given post ID.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.youtube" class="doc doc-heading">
          <code>minall.enrichment.youtube</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Enrichment workflow's YouTube data collection.</p>
<p>Modules exported by this package:</p>
<ul>
<li><code>normalizer</code>: Dataclass to normlalize minet's YouTube result objects.</li>
<li><code>context</code>: Context manager for client's CSV writer and progress bar.</li>
<li><code>get_data</code>: Function that runs all of the YouTube enrichment process.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.youtube.normalizer" class="doc doc-heading">
          <code>minall.enrichment.youtube.normalizer</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains dataclasses to normalize minet's YouTube Video and Channel result objects.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel" class="doc doc-heading">
          <code>NormalizedYouTubeChannel</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalize minet's YoutubeChannel result object.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube channel URL.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>YouTube's unique identifier for the channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date when the channel was created.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>country_of_origin</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Primary country in which the channel publishes content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>abstract</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Description of the channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>keywords</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of keywords attributed to the channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_subscribe</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of YouTube users who subscribe to the channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>create_video</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of videos the channel has published.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain of target URL. Default = "youtube.com".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype of target web content. Default = "WebPage".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedYouTubeChannel</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalize minet&#39;s YoutubeChannel result object.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): Target YouTube channel URL.</span>
<span class="sd">        identifier (str): YouTube&#39;s unique identifier for the channel.</span>
<span class="sd">        date_published (str): Date when the channel was created.</span>
<span class="sd">        country_of_origin (str): Primary country in which the channel publishes content.</span>
<span class="sd">        title (str): Name of the channel.</span>
<span class="sd">        abstract (str): Description of the channel.</span>
<span class="sd">        keywords (List[str]): List of keywords attributed to the channel.</span>
<span class="sd">        youtube_subscribe (int): Number of YouTube users who subscribe to the channel.</span>
<span class="sd">        create_video (int): Number of videos the channel has published.</span>
<span class="sd">        domain (str): Domain of target URL. Default = &quot;youtube.com&quot;.</span>
<span class="sd">        work_type (str): Ontological subtype of target web content. Default = &quot;WebPage&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">country_of_origin</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">abstract</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">keywords</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">youtube_subscribe</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">create_video</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;youtube.com&quot;</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;WebPage&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">channel_result</span><span class="p">:</span> <span class="n">MinetYouTubeChannelResult</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedYouTubeChannel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s channel result and creates a normalized dataclass.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target YouTube channel URL.</span>
<span class="sd">            channel_result (MinetYouTubeChannelResult): minet&#39;s channel results for the target channel URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedYouTubeChannel: Dataclass that normalizes minet&#39;s channel results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">NormalizedYouTubeChannel</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">domain</span><span class="o">=</span><span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
            <span class="n">work_type</span><span class="o">=</span><span class="s2">&quot;WebPage&quot;</span><span class="p">,</span>
            <span class="n">identifier</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">channel_id</span><span class="p">,</span>
            <span class="n">date_published</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">published_at</span><span class="p">,</span>
            <span class="n">country_of_origin</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">country</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">abstract</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">keywords</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">keywords</span><span class="p">,</span>
            <span class="n">youtube_subscribe</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">subscriber_count</span><span class="p">,</span>
            <span class="n">create_video</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">video_count</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel.from_payload" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">channel_result</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Parses minet's channel result and creates a normalized dataclass.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube channel URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>channel_result</code></td>
          <td>
                <code><span title="minet.youtube.types.YouTubeChannel">YouTubeChannel</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>minet's channel results for the target channel URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedYouTubeChannel</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel" href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeChannel">NormalizedYouTubeChannel</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes minet's channel results.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">channel_result</span><span class="p">:</span> <span class="n">MinetYouTubeChannelResult</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedYouTubeChannel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s channel result and creates a normalized dataclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target YouTube channel URL.</span>
<span class="sd">        channel_result (MinetYouTubeChannelResult): minet&#39;s channel results for the target channel URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedYouTubeChannel: Dataclass that normalizes minet&#39;s channel results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">NormalizedYouTubeChannel</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
        <span class="n">work_type</span><span class="o">=</span><span class="s2">&quot;WebPage&quot;</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">channel_id</span><span class="p">,</span>
        <span class="n">date_published</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">published_at</span><span class="p">,</span>
        <span class="n">country_of_origin</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">country</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="n">abstract</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">keywords</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">keywords</span><span class="p">,</span>
        <span class="n">youtube_subscribe</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">subscriber_count</span><span class="p">,</span>
        <span class="n">create_video</span><span class="o">=</span><span class="n">channel_result</span><span class="o">.</span><span class="n">video_count</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo" class="doc doc-heading">
          <code>NormalizedYouTubeVideo</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normalize minet's YoutubeVideo result object.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube video URL.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>YouTube's unique identifier for the video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date the video was published on YouTube.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>duration</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Duration of the video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Title of the video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>abstract</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Video's description.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>keywords</code></td>
          <td>
                <code><span title="typing.List">List</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of keywords applied to video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_watch</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of users who have watched the YouTube video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_comment</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of users who have commented on the YouTube video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>youtube_like</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of users who have liked the YouTube video.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype of the video's channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the video's channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_date_created</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date when the video's channel was created.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_location_created</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Primary country in which the video's channel publishes content.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_identifier</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>YouTube's unique identifier for the video's channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_youtube_subscribe</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of YouTube accounts that subscribe to the video's channel.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>creator_create_video</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of videos the video's channel has published.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>domain</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Domain of target URL. Default = "youtube.com".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ontological subtype of target web content. Default = "VideoObject".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedYouTubeVideo</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normalize minet&#39;s YoutubeVideo result object.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): Target YouTube video URL.</span>
<span class="sd">        identifier (str): YouTube&#39;s unique identifier for the video.</span>
<span class="sd">        date_published (str): Date the video was published on YouTube.</span>
<span class="sd">        duration (str): Duration of the video.</span>
<span class="sd">        title (str): Title of the video.</span>
<span class="sd">        abstract (str): Video&#39;s description.</span>
<span class="sd">        keywords (List): List of keywords applied to video.</span>
<span class="sd">        youtube_watch (str): Number of users who have watched the YouTube video.</span>
<span class="sd">        youtube_comment (str): Number of users who have commented on the YouTube video.</span>
<span class="sd">        youtube_like (str): Number of users who have liked the YouTube video.</span>
<span class="sd">        creator_type (str): Ontological subtype of the video&#39;s channel.</span>
<span class="sd">        creator_name (str): Name of the video&#39;s channel.</span>
<span class="sd">        creator_date_created (str): Date when the video&#39;s channel was created.</span>
<span class="sd">        creator_location_created (str): Primary country in which the video&#39;s channel publishes content.</span>
<span class="sd">        creator_identifier (str): YouTube&#39;s unique identifier for the video&#39;s channel.</span>
<span class="sd">        creator_youtube_subscribe (str): Number of YouTube accounts that subscribe to the video&#39;s channel.</span>
<span class="sd">        creator_create_video (str): Number of videos the video&#39;s channel has published.</span>
<span class="sd">        domain (str): Domain of target URL. Default = &quot;youtube.com&quot;.</span>
<span class="sd">        work_type (str): Ontological subtype of target web content. Default = &quot;VideoObject&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">duration</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">abstract</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">keywords</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">youtube_watch</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">youtube_comment</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">youtube_like</span><span class="p">:</span> <span class="nb">str</span>
    <span class="c1"># youtube_favorite was depreciated by YouTube in 2015.</span>
    <span class="n">creator_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_date_created</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_location_created</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_identifier</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_youtube_subscribe</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">creator_create_video</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;youtube.com&quot;</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;VideoObject&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">channel_result</span><span class="p">:</span> <span class="n">MinetYouTubeChannelResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">video_result</span><span class="p">:</span> <span class="n">MinetYouTubeVideoResult</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedYouTubeVideo&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s data for both a video and channel and creates a normalized dataclass.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target YouTube video URL.</span>
<span class="sd">            channel_result (MinetYouTubeChannelResult | None): minet&#39;s channel results containing metadata about the target video&#39;s channel.</span>
<span class="sd">            video_result (MinetYouTubeVideoResult): minet&#39;s video results for the target video.</span>

<span class="sd">        Returns:</span>
<span class="sd">            NormalizedYouTubeVideo: Dataclass that normalizes and merges video and channel results.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">channel_result</span><span class="p">:</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">channel_result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">NormalizedYouTubeVideo</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">domain</span><span class="o">=</span><span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
            <span class="n">work_type</span><span class="o">=</span><span class="s2">&quot;VideoObject&quot;</span><span class="p">,</span>
            <span class="n">identifier</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">video_id</span><span class="p">,</span>
            <span class="n">date_published</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">published_at</span><span class="p">,</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="n">abstract</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">keywords</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
            <span class="n">youtube_watch</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">view_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">youtube_comment</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">comment_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">youtube_like</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">like_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="n">creator_type</span><span class="o">=</span><span class="s2">&quot;WebPage&quot;</span><span class="p">,</span>
            <span class="n">creator_name</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">channel_title</span><span class="p">,</span>
            <span class="n">creator_identifier</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">channel_id</span><span class="p">,</span>
            <span class="n">creator_date_created</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;published_at&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
            <span class="n">creator_location_created</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;country&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
            <span class="n">creator_youtube_subscribe</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subscriber_count&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
            <span class="n">creator_create_video</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;video_count&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo.from_payload" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_payload</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">channel_result</span><span class="p">,</span> <span class="n">video_result</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h5>


  <div class="doc doc-contents ">
  
      <p>Parses minet's data for both a video and channel and creates a normalized dataclass.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube video URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>channel_result</code></td>
          <td>
                <code><span title="minet.youtube.types.YouTubeChannel">YouTubeChannel</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>minet's channel results containing metadata about the target video's channel.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>video_result</code></td>
          <td>
                <code><span title="minet.youtube.types.YouTubeVideo">YouTubeVideo</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>minet's video results for the target video.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>NormalizedYouTubeVideo</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo" href="#minall.enrichment.youtube.normalizer.NormalizedYouTubeVideo">NormalizedYouTubeVideo</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass that normalizes and merges video and channel results.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">channel_result</span><span class="p">:</span> <span class="n">MinetYouTubeChannelResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">video_result</span><span class="p">:</span> <span class="n">MinetYouTubeVideoResult</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedYouTubeVideo&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parses minet&#39;s data for both a video and channel and creates a normalized dataclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target YouTube video URL.</span>
<span class="sd">        channel_result (MinetYouTubeChannelResult | None): minet&#39;s channel results containing metadata about the target video&#39;s channel.</span>
<span class="sd">        video_result (MinetYouTubeVideoResult): minet&#39;s video results for the target video.</span>

<span class="sd">    Returns:</span>
<span class="sd">        NormalizedYouTubeVideo: Dataclass that normalizes and merges video and channel results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">channel_result</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="n">channel_result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">NormalizedYouTubeVideo</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
        <span class="n">domain</span><span class="o">=</span><span class="s2">&quot;youtube.com&quot;</span><span class="p">,</span>
        <span class="n">work_type</span><span class="o">=</span><span class="s2">&quot;VideoObject&quot;</span><span class="p">,</span>
        <span class="n">identifier</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">video_id</span><span class="p">,</span>
        <span class="n">date_published</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">published_at</span><span class="p">,</span>
        <span class="n">duration</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="n">abstract</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">keywords</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;keywords&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">youtube_watch</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">view_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">youtube_comment</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">comment_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">youtube_like</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">like_count</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="n">creator_type</span><span class="o">=</span><span class="s2">&quot;WebPage&quot;</span><span class="p">,</span>
        <span class="n">creator_name</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">channel_title</span><span class="p">,</span>
        <span class="n">creator_identifier</span><span class="o">=</span><span class="n">video_result</span><span class="o">.</span><span class="n">channel_id</span><span class="p">,</span>
        <span class="n">creator_date_created</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;published_at&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">creator_location_created</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;country&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">creator_youtube_subscribe</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subscriber_count&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">creator_create_video</span><span class="o">=</span><span class="n">channel</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;video_count&quot;</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.youtube.normalizer.ParsedLink" class="doc doc-heading">
          <code>ParsedLink</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Class to store up-to-date metadata about target YouTube URL.</p>
<p>This class's instance variables will be updated during the data collection process to reflect the target URL's video and/or channel metadata. If the target URL is of a video, its <code>ParsedLink</code> class instance should eventually be mutated to have a value in both the <code>video_result</code> and <code>channel_result</code> attributes because 2 API calls will be made. If the target URL is of a channel, its <code>ParsedLink</code> class instance should eventually be mutated to have a value in the <code>channel_result</code> attribute, after 1 call to the YouTube API's channels endpoint.</p>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ParsedLink</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to store up-to-date metadata about target YouTube URL.</span>

<span class="sd">    This class&#39;s instance variables will be updated during the data collection process to reflect the target URL&#39;s video and/or channel metadata. If the target URL is of a video, its `ParsedLink` class instance should eventually be mutated to have a value in both the `video_result` and `channel_result` attributes because 2 API calls will be made. If the target URL is of a channel, its `ParsedLink` class instance should eventually be mutated to have a value in the `channel_result` attribute, after 1 call to the YouTube API&#39;s channels endpoint.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine type of YouTube web content.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target YouTube URL.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            link_id (str): Target YouTube URL.</span>
<span class="sd">            type (YoutubeChannel | YoutubeVideo | Any): Result of ural&#39;s `parse_youtube_url()` function.</span>
<span class="sd">            video_id (str | None): If a parsed YouTube type is a video, the result&#39;s `id` attribute.</span>
<span class="sd">            channel_id (str | None): If a parsed YouTube type is a channel, the result&#39;s `id` attribute.</span>
<span class="sd">            video_result (None): Empty class instance variable for later storing minet&#39;s video result object.</span>
<span class="sd">            channel_result (None): Empty class instance variable for later storing minet&#39;s channel result object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link_id</span> <span class="o">=</span> <span class="n">url</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">parse_youtube_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeVideo</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeShort</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeChannel</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_id</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">video_result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_result</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.normalizer.ParsedLink.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Determine type of YouTube web content.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>link_id</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target YouTube URL.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>type</code></td>
          <td>
                <code><span title="ural.youtube.YoutubeChannel">YoutubeChannel</span> | <span title="ural.youtube.YoutubeVideo">YoutubeVideo</span> | Any</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Result of ural's <code>parse_youtube_url()</code> function.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>video_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If a parsed YouTube type is a video, the result's <code>id</code> attribute.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>channel_id</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If a parsed YouTube type is a channel, the result's <code>id</code> attribute.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>video_result</code></td>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Empty class instance variable for later storing minet's video result object.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>channel_result</code></td>
          <td>
                <code>None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Empty class instance variable for later storing minet's channel result object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determine type of YouTube web content.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target YouTube URL.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        link_id (str): Target YouTube URL.</span>
<span class="sd">        type (YoutubeChannel | YoutubeVideo | Any): Result of ural&#39;s `parse_youtube_url()` function.</span>
<span class="sd">        video_id (str | None): If a parsed YouTube type is a video, the result&#39;s `id` attribute.</span>
<span class="sd">        channel_id (str | None): If a parsed YouTube type is a channel, the result&#39;s `id` attribute.</span>
<span class="sd">        video_result (None): Empty class instance variable for later storing minet&#39;s video result object.</span>
<span class="sd">        channel_result (None): Empty class instance variable for later storing minet&#39;s channel result object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">link_id</span> <span class="o">=</span> <span class="n">url</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">parse_youtube_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeVideo</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeShort</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeChannel</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel_id</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">video_result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">channel_result</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.youtube.normalizer.normalize" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">normalize</span><span class="p">(</span><span class="n">parsed_link</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Normalize minet result objects stored in instance variables of the <code>ParsedLink</code> class.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>parsed_link</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="minall.enrichment.youtube.normalizer.ParsedLink" href="#minall.enrichment.youtube.normalizer.ParsedLink">ParsedLink</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Class instance with minet's YouTube API results.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dictionary to be added to CSV row for 'links' SQL table.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/normalizer.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">parsed_link</span><span class="p">:</span> <span class="n">ParsedLink</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Normalize minet result objects stored in instance variables of the `ParsedLink` class.</span>

<span class="sd">    Args:</span>
<span class="sd">        parsed_link (ParsedLink): Class instance with minet&#39;s YouTube API results.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary to be added to CSV row for &#39;links&#39; SQL table.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span> <span class="o">=</span> <span class="n">parsed_link</span><span class="o">.</span><span class="n">link_id</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_link</span><span class="o">.</span><span class="n">video_result</span><span class="p">,</span> <span class="n">MinetYouTubeVideoResult</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">NormalizedYouTubeVideo</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
            <span class="n">channel_result</span><span class="o">=</span><span class="n">parsed_link</span><span class="o">.</span><span class="n">channel_result</span><span class="p">,</span>
            <span class="n">video_result</span><span class="o">=</span><span class="n">parsed_link</span><span class="o">.</span><span class="n">video_result</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parsed_link</span><span class="o">.</span><span class="n">channel_result</span><span class="p">,</span> <span class="n">MinetYouTubeChannelResult</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">NormalizedYouTubeChannel</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">channel_result</span><span class="o">=</span><span class="n">parsed_link</span><span class="o">.</span><span class="n">channel_result</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.youtube.get_data" class="doc doc-heading">
          <code>minall.enrichment.youtube.get_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains function to manage process of collecting and normalizing data about YouTube web content.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.youtube.get_data.get_youtube_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_youtube_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Collects and writes metadata about target YouTube videos and channels to a CSV file that will be inserted into 'links' SQL table.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of target YouTube URLs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>keys</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of keys for YouTube API.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for 'links' SQL table.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_youtube_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">keys</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Collects and writes metadata about target YouTube videos and channels to a CSV file that will be inserted into &#39;links&#39; SQL table.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (list[str]): Set of target YouTube URLs.</span>
<span class="sd">        keys (list[str]): Set of keys for YouTube API.</span>
<span class="sd">        outfile (Path): Path to CSV file for &#39;links&#39; SQL table.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Sort the URLs into channels and videos</span>
    <span class="n">parsed_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">ParsedLink</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
    <span class="n">n_videos</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">i</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">parsed_links</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeVideo</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeShort</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">YouTubeAPIClient</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">keys</span><span class="p">)</span>

    <span class="c1"># Mutate the parsed_links array by adding video data</span>
    <span class="k">with</span> <span class="n">ProgressBar</span><span class="p">()</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold red]Querying YouTube videos&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="n">n_videos</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">pl</span> <span class="ow">in</span> <span class="n">parsed_links</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeVideo</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">YoutubeShort</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">videos</span><span class="p">(</span><span class="n">videos</span><span class="o">=</span><span class="p">[</span><span class="n">pl</span><span class="o">.</span><span class="n">video_id</span><span class="p">]):</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="s2">&quot;video_result&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">pl</span><span class="p">,</span> <span class="s2">&quot;channel_id&quot;</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s2">&quot;channel_id&quot;</span><span class="p">))</span>
                    <span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="c1"># Get a unique set of channels from video and channel data</span>
    <span class="n">channel_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">pl</span> <span class="ow">in</span> <span class="n">parsed_links</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pl</span><span class="o">.</span><span class="n">channel_id</span><span class="p">:</span>
            <span class="n">channel_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;https://www.youtube.com/channel/&quot;</span> <span class="o">+</span> <span class="n">pl</span><span class="o">.</span><span class="n">channel_id</span><span class="p">)</span>

    <span class="c1"># Create an index of unique channels and their collected metadata</span>
    <span class="n">channel_index</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="n">ProgressBar</span><span class="p">()</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold red]Querying YouTube channels&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">channel_set</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">channel_url</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">channels</span><span class="p">(</span><span class="n">channels_target</span><span class="o">=</span><span class="n">channel_set</span><span class="p">):</span>
            <span class="n">channel_id</span> <span class="o">=</span> <span class="n">channel_url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">channel_index</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">channel_id</span><span class="p">:</span> <span class="n">result</span><span class="p">})</span>
            <span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="c1"># Again mutate the parsed_links array by adding channel data</span>
    <span class="k">for</span> <span class="n">pl</span> <span class="ow">in</span> <span class="n">parsed_links</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pl</span><span class="o">.</span><span class="n">channel_id</span><span class="p">:</span>
            <span class="n">pl</span><span class="o">.</span><span class="n">channel_result</span> <span class="o">=</span> <span class="n">channel_index</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">channel_id</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">Writer</span><span class="p">(</span><span class="n">links_file</span><span class="o">=</span><span class="n">outfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">pl</span> <span class="ow">in</span> <span class="n">parsed_links</span><span class="p">:</span>
            <span class="n">normalized_result</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">pl</span><span class="p">)</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">normalized_result</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.youtube.context" class="doc doc-heading">
          <code>minall.enrichment.youtube.context</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module containing contexts for YouTube data collection's CSV writer and progress bar.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.youtube.context.ProgressBar" class="doc doc-heading">
          <code>ProgressBar</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Context for rich progress bar.</p>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ProgressBar</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Context for rich progress bar.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Progress</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the rich progress bar.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Progress: Context variable for rich progress bar.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
            <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">SpinnerColumn</span><span class="p">(),</span>
            <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
            <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stops the progress bar&#39;s context variable.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.context.ProgressBar.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the rich progress bar.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Progress</code></td>          <td>
                <code><span title="rich.progress.Progress">Progress</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Context variable for rich progress bar.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Progress</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the rich progress bar.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Progress: Context variable for rich progress bar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
        <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
        <span class="n">SpinnerColumn</span><span class="p">(),</span>
        <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
        <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.context.ProgressBar.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stops the progress bar's context variable.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stops the progress bar&#39;s context variable.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.youtube.context.Writer" class="doc doc-heading">
          <code>Writer</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Context for writing YouTube links metadata to CSV of 'links' SQL table.</p>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Writer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Context for writing YouTube links metadata to CSV of &#39;links&#39; SQL table.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up class for iteratively writing normalized YouTube results to CSV.</span>

<span class="sd">        Args:</span>
<span class="sd">            links_file (Path): Path to the links table CSV file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the CSV writer&#39;s context.</span>

<span class="sd">        Returns:</span>
<span class="sd">            csv.DictWriter: Context variable for writing CSV rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stops the writer&#39;s context variable.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.context.Writer.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the CSV writer's context.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="csv.DictWriter">DictWriter</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>csv.DictWriter: Context variable for writing CSV rows.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the CSV writer&#39;s context.</span>

<span class="sd">    Returns:</span>
<span class="sd">        csv.DictWriter: Context variable for writing CSV rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.context.Writer.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stops the writer's context variable.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stops the writer&#39;s context variable.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.youtube.context.Writer.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">links_file</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up class for iteratively writing normalized YouTube results to CSV.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>links_file</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to the links table CSV file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/youtube/context.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up class for iteratively writing normalized YouTube results to CSV.</span>

<span class="sd">    Args:</span>
<span class="sd">        links_file (Path): Path to the links table CSV file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.other_social_media" class="doc doc-heading">
          <code>minall.enrichment.other_social_media</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Module to update ontological subtype for social media posts whose data is not accessible.</p>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.other_social_media.add_data" class="doc doc-heading">
          <code>minall.enrichment.other_social_media.add_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains function to write web content ontological subtype information to CSV.</p>
<p>The module contains a function that write the ontological subtype "SocialMediaPosting" and the related target URL to a CSV, which will be inserted into the 'links' SQL table.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.other_social_media.add_data.add_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>For the set of target URLs, write the URL and the category "SocialMediaPosting" to a CSV row for insert into the 'links' SQL table.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URLs.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for links.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/other_social_media/add_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For the set of target URLs, write the URL and the category &quot;SocialMediaPosting&quot; to a CSV row for insert into the &#39;links&#39; SQL table.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (List[str]): Target URLs.</span>
<span class="sd">        outfile (Path): Path to CSV file for links.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span><span class="p">)</span>
        <span class="n">writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>
        <span class="p">[</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">({</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s2">&quot;work_type&quot;</span><span class="p">:</span> <span class="s2">&quot;SocialMediaPosting&quot;</span><span class="p">})</span>
            <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">data</span>
        <span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h2 id="minall.enrichment.article_text" class="doc doc-heading">
          <code>minall.enrichment.article_text</code>


</h2>

  <div class="doc doc-contents first">
  
      <p>Enrichment workflow's HTML scraping features.</p>
<p>Modules exported by this package:</p>
<ul>
<li><code>normalizer</code>: Dataclass to normlalize minet's Trafilatura result object.</li>
<li><code>contexts</code>: Context manager for scraper's CSV writers, multi-threader, and progress bar.</li>
<li><code>get_data</code>: Function that runs all of the scraping process.</li>
<li><code>scraper</code>: Class and helper function for scraping HTML.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.article_text.normalizer" class="doc doc-heading">
          <code>minall.enrichment.article_text.normalizer</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Dataclass to normlalize minet's Trafilatura result object.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.article_text.normalizer.NormalizedScrapedWebPage" class="doc doc-heading">
          <code>NormalizedScrapedWebPage</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="casanova.TabularRecord">TabularRecord</span></code></p>

  
      <p>Dataclass to normlalize minet's Trafilatura result object.</p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>URL targeted for scraping.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Title scraped from HTML.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>text</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Main text scraped from HTML.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>date_published</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Date scraped from HTML.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>work_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL's ontological subtype. Default = "WebPage".</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/article_text/normalizer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NormalizedScrapedWebPage</span><span class="p">(</span><span class="n">TabularRecord</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass to normlalize minet&#39;s Trafilatura result object.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        url (str): URL targeted for scraping.</span>
<span class="sd">        title (str | None): Title scraped from HTML.</span>
<span class="sd">        text (str | None): Main text scraped from HTML.</span>
<span class="sd">        date_published (str | None): Date scraped from HTML.</span>
<span class="sd">        work_type (str): Target URL&#39;s ontological subtype. Default = &quot;WebPage&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">date_published</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">work_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;WebPage&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_payload</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">TrafilaturaResult</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;NormalizedScrapedWebPage&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">NormalizedScrapedWebPage</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">date_published</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">date</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.article_text.scraper" class="doc doc-heading">
          <code>minall.enrichment.article_text.scraper</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Class and helper function for scraping HTML.</p>
<p>This module's <code>Scraper</code> class enhances minet's <code>request()</code> and <code>extract()</code> methods by providing additional support for unexpected HTML encodings.</p>
<ol>
<li>Uses minet's <code>request()</code> method on a target URL to get a <code>Response</code> object.</li>
<li>Verifies that the <code>Response</code> object is encoded in some form of utf-8.</li>
<li>Extracts the HTML body from the <code>Response</code>. [<code>text = response.text()</code>]</li>
<li>Uses bs4's fool-proof <code>UnicodeDammit</code> to parse the exact encoding. [<code>UnicodeDammit(text, "html.parser").declared_html_encoding</code>]</li>
<li>Gives the encoding to bs4's <code>BeautifulSoup</code> to parse the HTML.</li>
<li>Gives the <code>BeautifulSoup</code> result to minet's <code>extract()</code> method in order to return minet's <code>TrafilaturaResult</code> object.</li>
</ol>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.article_text.scraper.Scraper" class="doc doc-heading">
          <code>Scraper</code>


</h4>


  <div class="doc doc-contents ">

  
      <p>Class to manage HTML scraping.</p>



<p><strong>Examples:</strong></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">scraper</span> <span class="o">=</span> <span class="n">Scraper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="n">scraper</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://zenodo.org/records/7974793&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">==</span> <span class="n">result</span><span class="o">.</span><span class="n">canonical_url</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Minet, a webmining CLI tool &amp; library for python.&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>minall/enrichment/article_text/scraper.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Scraper</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to manage HTML scraping.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; scraper = Scraper()</span>
<span class="sd">        &gt;&gt;&gt; url, result = scraper(url=&#39;https://zenodo.org/records/7974793&#39;)</span>
<span class="sd">        &gt;&gt;&gt; url == result.canonical_url</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; result.title</span>
<span class="sd">        &#39;Minet, a webmining CLI tool &amp; library for python.&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">progress</span><span class="p">:</span> <span class="n">Progress</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If provided the context of a rich progress bar, save it to the class instance and add the task &#39;Scraping webpage&#39;.</span>

<span class="sd">        Args:</span>
<span class="sd">            progress (Progress | None, optional): Context of a rich progress bar instance. Defaults to None.</span>
<span class="sd">            total (int | None, optional): Total number of items treated during progress context. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">progress</span>
        <span class="k">if</span> <span class="n">progress</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">progress</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
                <span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold yellow]Scraping webpage&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="n">total</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">task_id</span> <span class="o">=</span> <span class="n">t</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TrafilaturaResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Requests and scrapes HTML, returning minet&#39;s Trafilatura Result object.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): Target URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[str, TrafilaturaResult | None]: The target URL and, if scraping was successful, minet&#39;s Trafilatura Result object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_id</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">response</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Request URL&#39;s HTML</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="c1"># Parse requested HTML</span>
        <span class="k">if</span> <span class="n">response</span> <span class="ow">and</span> <span class="n">good_response</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Avoid input conversion error, deriving from inside Trafilatura&#39;s lxml dependency</span>
                <span class="n">encoding</span> <span class="o">=</span> <span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">declared_html_encoding</span>
                <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
                <span class="n">text</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.article_text.scraper.Scraper.__call__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Requests and scrapes HTML, returning minet's Trafilatura Result object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>url</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Target URL.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[str, <span title="minet.extraction.TrafilaturaResult">TrafilaturaResult</span> | None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[str, TrafilaturaResult | None]: The target URL and, if scraping was successful, minet's Trafilatura Result object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/scraper.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TrafilaturaResult</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Requests and scrapes HTML, returning minet&#39;s Trafilatura Result object.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): Target URL.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[str, TrafilaturaResult | None]: The target URL and, if scraping was successful, minet&#39;s Trafilatura Result object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">advance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">task_id</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">response</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Request URL&#39;s HTML</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="c1"># Parse requested HTML</span>
    <span class="k">if</span> <span class="n">response</span> <span class="ow">and</span> <span class="n">good_response</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Avoid input conversion error, deriving from inside Trafilatura&#39;s lxml dependency</span>
            <span class="n">encoding</span> <span class="o">=</span> <span class="n">UnicodeDammit</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">declared_html_encoding</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="s2">&quot;lxml&quot;</span><span class="p">,</span> <span class="n">from_encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">)</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">formatter</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">url</span><span class="p">,</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.article_text.scraper.Scraper.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">progress</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>If provided the context of a rich progress bar, save it to the class instance and add the task 'Scraping webpage'.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>progress</code></td>
          <td>
                <code><span title="rich.progress.Progress">Progress</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Context of a rich progress bar instance. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>total</code></td>
          <td>
                <code>int | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Total number of items treated during progress context. Defaults to None.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/scraper.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">progress</span><span class="p">:</span> <span class="n">Progress</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If provided the context of a rich progress bar, save it to the class instance and add the task &#39;Scraping webpage&#39;.</span>

<span class="sd">    Args:</span>
<span class="sd">        progress (Progress | None, optional): Context of a rich progress bar instance. Defaults to None.</span>
<span class="sd">        total (int | None, optional): Total number of items treated during progress context. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">progress</span>
    <span class="k">if</span> <span class="n">progress</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">progress</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">progress</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;[bold yellow]Scraping webpage&quot;</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="n">total</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_id</span> <span class="o">=</span> <span class="n">t</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.article_text.scraper.good_response" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">good_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Verifies that the response that minet's request method returned is valid for scraping.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>response</code></td>
          <td>
                <code><span title="minet.web.Response">Response</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Response object returned from minet's request method.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="minet.web.Response">Response</span> | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Response | None: If valid, the Response; otherwise None.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/scraper.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">good_response</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verifies that the response that minet&#39;s request method returned is valid for scraping.</span>

<span class="sd">    Args:</span>
<span class="sd">        response (Response): Response object returned from minet&#39;s request method.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Response | None: If valid, the Response; otherwise None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">response</span><span class="o">.</span><span class="n">is_text</span>
        <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">encoding</span>
        <span class="ow">and</span> <span class="s2">&quot;utf&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">encoding</span>
        <span class="ow">and</span> <span class="s2">&quot;8&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">encoding</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.article_text.get_data" class="doc doc-heading">
          <code>minall.enrichment.article_text.get_data</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Module contains a function that runs the scraping feature.</p>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h4 id="minall.enrichment.article_text.get_data.get_data" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span></code>

</h4>


  <div class="doc doc-contents ">
  
      <p>Iterating through the target URLs, scrape data and write to out-file.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set of target URLs for scraping.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>outfile</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to CSV file for writing normalized results.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/get_data.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">outfile</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterating through the target URLs, scrape data and write to out-file.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (list[str]): Set of target URLs for scraping.</span>
<span class="sd">        outfile (Path): Path to CSV file for writing normalized results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">ContextManager</span><span class="p">(</span><span class="n">links_file</span><span class="o">=</span><span class="n">outfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">contexts</span><span class="p">:</span>
        <span class="n">writer</span><span class="p">,</span> <span class="n">executor</span><span class="p">,</span> <span class="n">progress</span> <span class="o">=</span> <span class="n">contexts</span>
        <span class="n">scraper</span> <span class="o">=</span> <span class="n">Scraper</span><span class="p">(</span><span class="n">progress</span><span class="o">=</span><span class="n">progress</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">executor</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scraper</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">formatted_result</span> <span class="o">=</span> <span class="n">NormalizedScrapedWebPage</span><span class="o">.</span><span class="n">from_payload</span><span class="p">(</span>
                    <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">result</span>
                <span class="p">)</span>
                <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">formatted_result</span><span class="o">.</span><span class="n">as_csv_dict_row</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-module">




<h3 id="minall.enrichment.article_text.contexts" class="doc doc-heading">
          <code>minall.enrichment.article_text.contexts</code>


</h3>

  <div class="doc doc-contents first">
  
      <p>Context manager for scraper's CSV writers, multi-threader, and progress bar.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h4 id="minall.enrichment.article_text.contexts.ContextManager" class="doc doc-heading">
          <code>ContextManager</code>


</h4>


  <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>minall/enrichment/article_text/contexts.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ContextManager</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up class for scraper&#39;s contexts.</span>

<span class="sd">        Args:</span>
<span class="sd">            links_file (Path): Path to out-file for CSV writer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">ThreadPoolExecutor</span><span class="p">,</span> <span class="n">Progress</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the scraper&#39;s context variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[csv.DictWriter, ThreadPoolExecutor, Progress]: Context variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Set up links file writer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

        <span class="c1"># Set up multi-threading pool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executor</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

        <span class="c1"># Set up progress bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
            <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">SpinnerColumn</span><span class="p">(),</span>
            <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
            <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the scraper&#39;s context variables.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cancel_futures</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.article_text.contexts.ContextManager.__enter__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__enter__</span><span class="p">()</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Start the scraper's context variables.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[<span title="csv.DictWriter">DictWriter</span>, <span title="concurrent.futures.ThreadPoolExecutor">ThreadPoolExecutor</span>, <span title="rich.progress.Progress">Progress</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple[csv.DictWriter, ThreadPoolExecutor, Progress]: Context variables.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">,</span> <span class="n">ThreadPoolExecutor</span><span class="p">,</span> <span class="n">Progress</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the scraper&#39;s context variables.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[csv.DictWriter, ThreadPoolExecutor, Progress]: Context variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Set up links file writer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">links_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">,</span> <span class="n">fieldnames</span><span class="o">=</span><span class="n">LinksConstants</span><span class="o">.</span><span class="n">col_names</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="o">.</span><span class="n">writeheader</span><span class="p">()</span>

    <span class="c1"># Set up multi-threading pool</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">executor</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># Set up progress bar</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
        <span class="n">TextColumn</span><span class="p">(</span><span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">),</span>
        <span class="n">SpinnerColumn</span><span class="p">(),</span>
        <span class="n">MofNCompleteColumn</span><span class="p">(),</span>
        <span class="n">TimeElapsedColumn</span><span class="p">(),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_writer</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.article_text.contexts.ContextManager.__exit__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__exit__</span><span class="p">(</span><span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Stop the scraper's context variables.</p>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_val</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop the scraper&#39;s context variables.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">links_file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">executor</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cancel_futures</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h5 id="minall.enrichment.article_text.contexts.ContextManager.__init__" class="doc doc-heading">
          <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">links_file</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Set up class for scraper's contexts.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>links_file</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to out-file for CSV writer.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>minall/enrichment/article_text/contexts.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">links_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up class for scraper&#39;s contexts.</span>

<span class="sd">    Args:</span>
<span class="sd">        links_file (Path): Path to out-file for CSV writer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">links_file</span> <span class="o">=</span> <span class="n">links_file</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>